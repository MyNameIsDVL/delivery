{"version":3,"sources":["firebaseConfig.js","store/PStore.js","components/delivery/DeliverySearchProducts/SearchProducts.js","components/delivery/DeliveryHeader/DeliveryHeader.js","components/delivery/DeliveryModalHome/Map.js","components/delivery/DeliveryModalHome/DeliveryModalHome.js","components/delivery/DeliverySearchRestaurant/SearchForRest.js","components/delivery/DeliveryHome/DeliveryHome.js","components/delivery/DeliveryLogin/DeliveryLogin.js","components/delivery/DeliveryRegister/DeliveryRegister.js","components/delivery/DeliveryProfile/DeliveryProfile.js","components/delivery/DeliverySliderMenu/DeliverySliderMenu.js","components/delivery/DeliverySliderDinners/DeliverySliderDinners.js","components/delivery/DeliveryMenu/DeliveryMenu.js","components/delivery/DeliveryFooter/DeliveryFooter.js","components/delivery/DeliverySingleProduct/DeliverySingleProduct.js","components/delivery/DeliveryBasket/DeliveryBasket.js","components/delivery/DeliveryFavourite/DeliveryFavourite.js","components/delivery/DeliveryFinalize/DeliveryFinalize.js","components/delivery/DeliveryPaypal/PayPalButton.js","components/delivery/DeliveryPaypal/DeliveryPaypal.js","components/delivery/DeliveryGooglePay/DeliveryGooglePay.js","components/delivery/DeliveryNotFound/DeliveryNotFound.js","components/delivery/DeliveryProfile/DeliveryForgotPassword.js","components/delivery/DeliverySearchProducts/DeliverySearchProducts.js","components/delivery/PaymentSuccessThanks/PaymentThanks.js","components/App.js","index.js"],"names":["fireB","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","appId","auth","db","firestore","rdb","storage","database","PStore","createContext","PStoreProvider","state","products","basket_added","fav_added","restl","ref","on","snapshot","productlist","forEach","snap","push","val","setState","productbasket","productfav","restLoc","Provider","value","this","props","children","React","Component","SearchProducts","fetchDataToArray","prods","context","map","prod","ProductName","arryProds","onContentChanged","e","target","suggest","length","pattern","RegExp","sort","filter","item","test","content","className","index","onClick","renderSuggestMeSelected","onKeyUp","type","placeholder","onChange","to","renderSuggestMe","contextType","DeliveryHeader","user","history","useHistory","useEffect","$","click","toggleClass","logout","signOut","then","console","log","style","color","id","Geocode","setApiKey","enableDebug","Map","getCity","addressArray","i","types","long_name","getArea","j","getState","event","name","onInfoWindowClose","address","city","area","mapPosition","lat","center","lng","markerPosition","fromLatLng","response","results","formatted_address","address_components","error","nextProps","nextState","AsyncMap","withScriptjs","withGoogleMap","google","defaultZoom","zoom","defaultCenter","undefined","display","htmlFor","readOnly","googleMapURL","loadingElement","height","containerElement","mapElement","DeliveryModalHome","setOpenModal","SearchForRest","coolerSuggestMe","success","items","renderCoolerSuggestMeSelected","rest","IdUser","currentUserId","RestLocation","find","catch","err","message","child","key","update","IdKey","pushToBasket","renderCoolerSuggestMe","DeliveryHome","useState","openModal","alt","src","DeliveryLogin","email","password","onSubmit","preventDefault","signInWithEmailAndPassword","required","DeliveryRegister","username","phone","location","acceptPolise","eyeClassName","toggleEyePassVisible","idpass","document","querySelector","getAttribute","setAttribute","register","createUserWithEmailAndPassword","call","collection","doc","uid","set","UserName","Phone","Email","Location","Polise","Id","currentUser","sendEmailVerification","checked","DeliveryProfile","currentPhone","currentLocation","currentUserName","currentEmail","setUsername","setPhone","setEmail","setLocation","setPassword","setSuccess","setError","window","scrollTo","currentPassword","cred","EmailAuthProvider","credential","reauthenticateWithCredential","reauthenticate","updateEmail","SwiperCore","use","Scrollbar","Navigation","DeliverySliderMenu","single","useContext","slidesPerView","scrollbar","spaceBetween","navigation","grabCursor","fav","ProductFiveStar","ProductUrl","DeliverySliderDinner","slidesPerColumn","ProductCategory","DeliveryMenu","product","ProductDescription","ProductPrice","DeliveryFooter","href","download","DeliverySingleProduct","countVal","setCountVal","pathId","pathname","substr","prodslength","toFixed","pCategory","pDesc","pId","pName","pPrice","pQuan","pPerItemPrice","basket","ProductId","ProductQuantity","ProductPath","ProductPerItemPrice","disabled","backgroundColor","pushToFavourite","DeliveryBasket","totalPrice","setTotalPrice","setPQuan","isBasket","bas","total","Number","price_per_item","idKey","remove","DeliveryFavourite","isFavourite","idkey","useRadioButtons","DeliveryFinalize","platformValue","plaftormInputProps","payMethodValue","payMethodInputProps","payOnline","setPayOnline","payCartHome","setPayCartHome","payPersonal","setPayPersonal","goToPaypal","setGoToPaypal","goToPayU","setGoToPayU","goGPay","setGoGPay","ClientId","OrderDate","Date","PaymentMethod","PaymentResult","KeyId","payCardOnDelivery","Restaurant","PayPalButton","paypal","useRef","totalp","Buttons","createOrder","data","actions","order","create","intent","purchase_units","description","amount","currency_code","onApprove","a","capture","onError","render","current","DeliveryPaypal","DeliveryGooglePay","setTotal","nvironment","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","gatewayMerchantId","merchantInfo","merchantId","merchantName","transactionInfo","totalPriceStatus","totalPriceLabel","currencyCode","countryCode","onLoadPaymentData","DeliveryNotFound","DeliveryForgotPassword","newEmail","setNewEmail","sendPasswordResetEmail","DeliverySearchProducts","prodPatternLen","p","replaceAll","PaymentThanks","displayMessage","App","onAuthStateChanged","get","path","exact","component","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.22def648.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyA8vk-2nl2Nsw4t_yHRDFxbYGFdoFLhkas\",\r\n    authDomain: \"deliveryfoodapp-62868.firebaseapp.com\",\r\n    databaseURL: \"https://deliveryfoodapp-62868-default-rtdb.europe-west1.firebasedatabase.app/\",\r\n    projectId: \"deliveryfoodapp-62868\",\r\n    storageBucket: \"deliveryfoodapp-62868.appspot.com\",\r\n    appId: \"\"\r\n};\r\n\r\nconst fireB = firebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = fireB.auth();\r\nconst db = fireB.firestore();\r\nconst storage = fireB.storage();\r\nconst rdb = fireB.database();\r\n\r\nexport default fireB;\r\nexport { auth, db, storage, rdb };","import React, { createContext } from 'react';\r\nimport { rdb } from '../firebaseConfig';\r\n\r\nexport const PStore = createContext();\r\n\r\nexport class PStoreProvider extends React.Component {\r\n\r\n    state = {\r\n        products: [],\r\n        basket_added: [],\r\n        fav_added: [],\r\n        restl: []\r\n    };\r\n\r\n    componentDidMount() {\r\n        // products get\r\n        rdb.ref(`products`).on('value', snapshot => {\r\n            let productlist = [];\r\n            snapshot.forEach(snap => {\r\n                productlist.push(snap.val());\r\n            });\r\n            this.setState({ products: productlist });\r\n        });\r\n        // basket_added get \r\n        rdb.ref(`basket_added`).on('value', snapshot => {\r\n            let productbasket = [];\r\n            snapshot.forEach(snap => {\r\n                productbasket.push(snap.val());\r\n            });\r\n            this.setState({ basket_added: productbasket });\r\n        });\r\n        // favourite_added get\r\n        rdb.ref(`favourite_added`).on('value', snapshot => {\r\n            let productfav = [];\r\n            snapshot.forEach(snap => {\r\n                productfav.push(snap.val());\r\n            });\r\n            this.setState({ fav_added: productfav });\r\n        });\r\n        // rest_location get\r\n        rdb.ref(`rest_location`).on('value', snapshot => {\r\n            let restLoc = [];\r\n            snapshot.forEach(snap => {\r\n                restLoc.push(snap.val());\r\n            });\r\n            this.setState({ restl: restLoc });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <PStore.Provider value={{ products: [...this.state.products], basket_added: [...this.state.basket_added], fav_added: [...this.state.fav_added], restl: [...this.state.restl] }}>\r\n                { this.props.children }\r\n            </PStore.Provider>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport './SearchProducts.css';\r\nimport { PStore } from '../../../store/PStore';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass SearchProducts extends React.Component {\r\n\r\n    static contextType = PStore;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            suggest: [],\r\n            arryProds: [],\r\n            content: ''\r\n        };\r\n    }\r\n\r\n    fetchDataToArray = () => {\r\n        const { products } = this.context;\r\n        const prods = products.map(prod => prod.ProductName);\r\n        this.setState({ arryProds: prods });\r\n    }\r\n\r\n    onContentChanged = (e) => {\r\n        var val = e.target.value;\r\n        let suggest = [];\r\n        if (val.length > 0) {\r\n            const pattern = new RegExp(`^${ val }`, 'i');\r\n            suggest = this.state.arryProds.sort().filter(item => pattern.test(item));\r\n        }\r\n        this.setState({ suggest: suggest, content: val });\r\n    }\r\n\r\n    renderSuggestMe() {\r\n        if (this.state.suggest.length === 0) {\r\n            return null;\r\n        }\r\n        return(\r\n            <ul className=\"searchproduct-autocompile\">\r\n                { this.state.suggest.map((item, index) => <li onClick={ () => this.renderSuggestMeSelected(item) } key={ index }>{ item }</li>) }\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    renderSuggestMeSelected(val) {\r\n        this.setState({\r\n            suggest: [],\r\n            content: val\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <>\r\n            <div className=\"searchProducts\">\r\n                <div className=\"searchProducts-flex\">\r\n                    <input onKeyUp={ () => this.fetchDataToArray() } type=\"text\" placeholder=\"Wyszukaj produkt...\" onChange={ this.onContentChanged } value={ this.state.content } />\r\n                    <Link to={ `/delivery/search/${ this.state.content }` }><button onClick={ () => this.setState({ content: '' }) }><i className=\"icon search\"></i></button></Link>\r\n                </div>\r\n                { this.renderSuggestMe() }\r\n            </div>\r\n            </>\r\n        );\r\n    }  \r\n}\r\n\r\nexport default SearchProducts;","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './DeliveryHeader.css';\r\nimport { auth } from '../../../firebaseConfig';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SearchProducts from '../DeliverySearchProducts/SearchProducts';\r\nimport $ from 'jquery';\r\n\r\nconst DeliveryHeader = ({ user }) => {\r\n\r\n    const history = useHistory();\r\n\r\n    // useEffect(() =>{\r\n    //     auth.onAuthStateChanged(user => {\r\n    //         if (!user) {\r\n    //             history.push('/');\r\n    //         }\r\n    //     });\r\n    // }, [user, history]);\r\n\r\n    useEffect(() => {\r\n        $('#toggle').click(function() {\r\n            $(this).toggleClass('active');\r\n            $('#overlay').toggleClass('open');\r\n        });\r\n    }, [])\r\n\r\n    const logout = () => {\r\n        auth.signOut().then(() => {\r\n           console.log('wylogowany');\r\n           history.push('/delivery');\r\n        });\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <div className=\"deliveryHeader\">\r\n            <div className=\"deliveryHeader-topbar\">\r\n                <ul>\r\n                    { !user && \r\n                        <li>\r\n                            <i className=\"icon user\"></i>\r\n                            <Link to=\"/delivery/login\">Logowanie/Rejestracja</Link>\r\n                        </li>\r\n                    }\r\n                    { user &&\r\n                        <li>\r\n                            <button onClick={ logout }><i className=\"icon logout\" style={{ color: 'white' }}></i> Wyloguj { user }</button>\r\n                        </li>\r\n                    }\r\n                    <li>\r\n                        <div className=\"dvl-search-container\">\r\n                            <SearchProducts />\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"deliveryHeader-bottombar\">\r\n                <ul>\r\n                    <li>\r\n                        <Link to=\"/delivery/menu\">Menu</Link>\r\n                    </li>\r\n                    { user && \r\n                    <>\r\n                        <li>\r\n                            <Link to=\"/delivery/fav\">Ulubione</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to=\"/delivery/profile\">Profil</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to=\"/delivery/basket\"><button><i className=\"icon shopping basket\"></i>Koszyk</button></Link>\r\n                        </li>\r\n                    </>\r\n                    }\r\n                </ul>\r\n            </div>\r\n            <div className=\"button_container\" id=\"toggle\">\r\n                <span className=\"top\"></span>\r\n                <span className=\"middle\"></span>\r\n                <span className=\"bottom\"></span>\r\n            </div>\r\n        </div>\r\n        <div className=\"overlay\" id=\"overlay\">\r\n            <nav className=\"overlay-menu\">\r\n                <ul className=\"ul-top-moblie\">\r\n                    { !user && \r\n                        <li>\r\n                            <i className=\"icon user\"></i>\r\n                            <Link to=\"/delivery/login\">Logowanie/Rejestracja</Link>\r\n                        </li>\r\n                    }\r\n                    { user &&\r\n                        <li>\r\n                            <button onClick={ logout }><i className=\"icon logout\" style={{ color: 'white' }}></i> Wyloguj { user }</button>\r\n                        </li>\r\n                    }\r\n                    <li>\r\n                        <div className=\"dvl-search-container\">\r\n                            <SearchProducts />\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n                <ul className=\"ul-bottom-moblie\">\r\n                    <li>\r\n                        <Link to=\"/delivery/menu\">Menu</Link>\r\n                    </li>\r\n                    { user && \r\n                    <>\r\n                        <li>\r\n                            <Link to=\"/delivery/fav\">Ulubione</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to=\"/delivery/profile\">Profil</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link to=\"/delivery/basket\"><i className=\"icon shopping basket\"></i>Koszyk</Link>\r\n                        </li>\r\n                    </>\r\n                    }\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DeliveryHeader;","import React from 'react';\r\nimport { withGoogleMap, GoogleMap, withScriptjs } from \"react-google-maps\";\r\nimport Geocode from \"react-geocode\";\r\nGeocode.setApiKey(\"AIzaSyAd-6Jm8a0T5ODiNbkWqKo4E-qnNzDnzoA\");\r\nGeocode.enableDebug();\r\n\r\nclass Map extends React.Component {\r\n    constructor( props ){\r\n        super( props );\r\n        this.state = {\r\n         address: '',\r\n         city: '',\r\n         area: '',\r\n         state: '',\r\n         mapPosition: {\r\n          lat: this.props.center.lat,\r\n          lng: this.props.center.lng\r\n         },\r\n         markerPosition: {\r\n          lat: this.props.center.lat,\r\n          lng: this.props.center.lng\r\n      }\r\n        }\r\n       }\r\n      /**\r\n        * Get the current address from the default map position and set those values in the state\r\n        */\r\n       componentDidMount() {\r\n        Geocode.fromLatLng( this.state.mapPosition.lat , this.state.mapPosition.lng ).then(\r\n         response => {\r\n            console.log('response', response)\r\n          const address = response.results[0].formatted_address,\r\n           addressArray =  response.results[0].address_components,\r\n           city = this.getCity( addressArray ),\r\n           area = this.getArea( addressArray ),\r\n           state = this.getState( addressArray );\r\n        \r\n          console.log( 'city', city, area, state );\r\n        \r\n          this.setState( {\r\n           address: ( address ) ? address : '',\r\n           area: ( area ) ? area : '',\r\n           city: ( city ) ? city : '',\r\n           state: ( state ) ? state : '',\r\n          } )\r\n         },\r\n         error => {\r\n          console.error(error);\r\n         }\r\n        );\r\n       };\r\n      /**\r\n        * Component should only update ( meaning re-render ), when the user selects the address, or drags the pin\r\n        *\r\n        * @param nextProps\r\n        * @param nextState\r\n        * @return {boolean}\r\n        */\r\n       shouldComponentUpdate( nextProps, nextState ){\r\n        if (\r\n         this.state.markerPosition.lat !== this.props.center.lat ||\r\n         this.state.address !== nextState.address ||\r\n         this.state.city !== nextState.city ||\r\n         this.state.area !== nextState.area ||\r\n         this.state.state !== nextState.state\r\n        ) {\r\n         return true\r\n        } else if ( this.props.center.lat === nextProps.center.lat ){\r\n         return false\r\n        }\r\n       }\r\n      /**\r\n        * Get the city and set the city input value to the one selected\r\n        *\r\n        * @param addressArray\r\n        * @return {string}\r\n        */\r\n       getCity = ( addressArray ) => {\r\n        let city = '';\r\n        for( let i = 0; i < addressArray.length; i++ ) {\r\n         if ( addressArray[ i ].types[0] && 'administrative_area_level_2' === addressArray[ i ].types[0] ) {\r\n          city = addressArray[ i ].long_name;\r\n          return city;\r\n         }\r\n        }\r\n       };\r\n      /**\r\n        * Get the area and set the area input value to the one selected\r\n        *\r\n        * @param addressArray\r\n        * @return {string}\r\n        */\r\n       getArea = ( addressArray ) => {\r\n        let area = '';\r\n        for( let i = 0; i < addressArray.length; i++ ) {\r\n         if ( addressArray[ i ].types[0]  ) {\r\n          for ( let j = 0; j < addressArray[ i ].types.length; j++ ) {\r\n           if ( 'sublocality_level_1' === addressArray[ i ].types[j] || 'locality' === addressArray[ i ].types[j] ) {\r\n            area = addressArray[ i ].long_name;\r\n            return area;\r\n           }\r\n          }\r\n         }\r\n        }\r\n       };\r\n      /**\r\n        * Get the address and set the address input value to the one selected\r\n        *\r\n        * @param addressArray\r\n        * @return {string}\r\n        */\r\n       getState = ( addressArray ) => {\r\n        let state = '';\r\n        for( let i = 0; i < addressArray.length; i++ ) {\r\n         for( let i = 0; i < addressArray.length; i++ ) {\r\n          if ( addressArray[ i ].types[0] && 'administrative_area_level_1' === addressArray[ i ].types[0] ) {\r\n           state = addressArray[ i ].long_name;\r\n           return state;\r\n          }\r\n         }\r\n        }\r\n       };\r\n      /**\r\n        * And function for city,state and address input\r\n        * @param event\r\n        */\r\n       onChange = ( event ) => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n       };\r\n      /**\r\n        * This Event triggers when the marker window is closed\r\n        *\r\n        * @param event\r\n        */\r\n       onInfoWindowClose = ( event ) => {\r\n      };\r\n      render(){\r\n      const AsyncMap = withScriptjs(\r\n         withGoogleMap(\r\n          props => (\r\n           <GoogleMap google={this.props.google}\r\n            defaultZoom={this.props.zoom}\r\n            defaultCenter={{ lat: this.state.mapPosition.lat, lng: this.state.mapPosition.lng }}\r\n           >\r\n      </GoogleMap>\r\n      )\r\n         )\r\n        );\r\n      let map;\r\n        if( this.props.center.lat !== undefined ) {\r\n         map = <div>\r\n           <div style={{ display: 'none' }}>\r\n            <div className=\"form-group\">\r\n             <label htmlFor=\"\">City</label>\r\n             <input type=\"text\" name=\"city\" className=\"form-control\" onChange={ this.onChange } readOnly=\"readOnly\" value={ this.state.city }/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n             <label htmlFor=\"\">Area</label>\r\n             <input type=\"text\" name=\"area\" className=\"form-control\" onChange={ this.onChange } readOnly=\"readOnly\" value={ this.state.area }/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n             <label htmlFor=\"\">State</label>\r\n             <input type=\"text\" name=\"state\" className=\"form-control\" onChange={ this.onChange } readOnly=\"readOnly\" value={ this.state.state }/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n             <label htmlFor=\"\">Address</label>\r\n             <input type=\"text\" name=\"address\" className=\"form-control\" onChange={ this.onChange } readOnly=\"readOnly\" value={ this.state.address }/>\r\n            </div>\r\n           </div>\r\n           <AsyncMap\r\n            googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyANYfOrg-tPNZ1UCor00wYUlf-vorCeJhc&region=PL&libraries=places\"\r\n            loadingElement={\r\n             <div style={{ height: `100%` }} />\r\n            }\r\n            containerElement={\r\n             <div style={{ height: this.props.height }} />\r\n            }\r\n            mapElement={\r\n             <div style={{ height: `100%` }} />\r\n            }\r\n           />\r\n          </div>\r\n      } else {\r\n         map = <div style={{height: this.props.height}} />\r\n        }\r\n        return( map )\r\n       }\r\n}\r\n\r\nexport default Map;","import React from 'react';\r\nimport './DeliveryModalHome.css';\r\nimport Map from './Map';\r\n\r\nconst DeliveryModalHome = ({ setOpenModal, google }) => {\r\n    return(\r\n        <div className=\"deliveryModalHome\">\r\n            <div className=\"deliveryModalHome-content\">\r\n                <button onClick={ () => setOpenModal(false) }><i className=\"icon delete\"></i></button>\r\n                <div className=\"deliveryModalHome-content-title\">\r\n                    <h2>Wyszukaj i zapisz lokalizacj restauracji najbliej Ciebie</h2>\r\n                </div>\r\n                <div className=\"deliveryModalHome-content-body\">\r\n                    <Map\r\n                        center={{ lat: 52.237049, lng: 21.017532 }}\r\n                        height='500px'\r\n                        zoom={ 15 }\r\n                    />\r\n                </div>\r\n                <div className=\"deliveryModalHome-content-footer\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeliveryModalHome;","import React from 'react';\r\nimport { rdb } from '../../../firebaseConfig';\r\nimport { PStore } from '../../../store/PStore';\r\nimport './SearchForRest.css';\r\n\r\nclass SearchForRest extends React.Component {\r\n\r\n    static contextType = PStore;\r\n\r\n    state = {\r\n        coolerSuggestMe: [],\r\n        content: '',\r\n        success: '',\r\n        error: ''\r\n    };\r\n\r\n    items = [\r\n        'Kielce Szajnowicza Iwanowa 1/8',\r\n        'Kielce Winiowa 2/4',\r\n        'Kielce Jana Pawa 4/10',\r\n        'Kielce Galeria echo 2p',\r\n        'Warszawa Bartwiskiego 5/8',\r\n        'Warszawa Tomczaka 5',\r\n        'Warszawa Warszawska 14',\r\n        'Warszawa Tulewicza 24',\r\n        'Warszawa Wapniowa 12',\r\n        'Warszawa Ulotna 5',\r\n        'Warszawa Prusa 10',\r\n        'Katowice Towarowa 13',\r\n        'Katowice Zagajnik 24',\r\n        'Katowice Wojtachowskiego 15',\r\n        'Katowice Merry 23',\r\n        'Katowice Janowskiego 11',\r\n        'Katowice Gesler 43',\r\n        'Gdynia Filipa 14',\r\n        'Gdynia Ropuchy 43',\r\n        'Gdynia Katowicka 12',\r\n        'Gdynia Poligloty 14',\r\n        'Gdynia Markowskiego 16',\r\n        'Gdynia Utylizacji 44',\r\n        'Gdynia Koszaliska 14'\r\n    ];\r\n\r\n    onContentChanged = e => {\r\n        const val = e.target.value;\r\n        let coolerSuggestMe = [];\r\n        if (val.length > 0) {\r\n            const pattern = new RegExp(`^${ val }`, 'i');\r\n            coolerSuggestMe = this.items.sort().filter(item => pattern.test(item));\r\n        }\r\n        this.setState(() => ({ coolerSuggestMe, content: val }));\r\n    }\r\n\r\n    renderCoolerSuggestMe() {\r\n        const { coolerSuggestMe } = this.state;\r\n        if (coolerSuggestMe.length === 0) {\r\n            return null;\r\n        }\r\n        return(\r\n            <ul className=\"searchForRest-dvlul-autocompile\">\r\n                { coolerSuggestMe.map((item, index) => <li onClick={ () => this.renderCoolerSuggestMeSelected(item) } key={ index }>{ item }</li>) }\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    renderCoolerSuggestMeSelected(val) {\r\n        this.setState(() => ({\r\n            content: val,\r\n            coolerSuggestMe: []\r\n        }));\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { restl } = this.context;\r\n\r\n        restl.filter(rest => rest.IdUser === this.props.currentUserId).forEach(prod => {\r\n            this.setState({ content: prod.RestLocation });\r\n        });\r\n    }\r\n\r\n    pushToBasket() {\r\n        const { restl } = this.context;\r\n\r\n        const rest = restl.find(rest => rest.IdUser === this.props.currentUserId);\r\n\r\n        if (rest === undefined) {\r\n            if (this.state.content !== '') {\r\n                var ref = rdb.ref('rest_location');\r\n                var childRef = ref.push({\r\n                    IdUser: this.props.currentUserId,\r\n                    RestLocation: this.state.content\r\n                }).catch(err => console.log(err.message));\r\n                childRef.then(item => {\r\n                    ref.child(item.key).update({\r\n                        IdKey: item.key\r\n                    }).then(() => console.log('dodano'));\r\n                });\r\n            }\r\n        } else {\r\n            if (this.state.content !== '') {\r\n                var refu = rdb.ref('rest_location').child(rest.IdKey);\r\n                refu.update({\r\n                    RestLocation: this.state.content\r\n                }).then(() => this.setState({ success: 'Zapisano zmian' })).catch(err => console.log(err.message));\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { content } = this.state;\r\n        return(\r\n            <div className=\"searchForRest\">\r\n                <button onClick={ () => this.pushToBasket() } className=\"searchForRest-btn\"><i className=\"icon save\"></i></button>\r\n                <div className=\"searchForRest-content\">\r\n                    <div className=\"ui left icon input searchForRest-params\">\r\n                        <input value={ content } onChange={ this.onContentChanged } type=\"text\" placeholder=\"np. Kielce Szajnowicza...\" />\r\n                        <i className=\"paper plane icon\"></i>\r\n                    </div>\r\n                    { this.renderCoolerSuggestMe() }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchForRest;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './DeliveryHome.css';\r\nimport DeliveryModalHome from '../DeliveryModalHome/DeliveryModalHome';\r\nimport SearchForRest from '../DeliverySearchRestaurant/SearchForRest';\r\n\r\nconst DeliveryHome = ({ user, currentUserId }) => {\r\n\r\n    const [openModal, setOpenModal] = useState(false);\r\n\r\n    return(\r\n        <div className=\"deliveryHome\">\r\n            <div className=\"deliveryHome-title\">\r\n                <h1>Zamw z dostaw</h1>\r\n                <div className=\"deliveryHome-dvl-flex\">\r\n                    <h3>Otrzymasz zamwienie za okoo</h3>\r\n                    <span>30 min</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"deliveryHome-content\">\r\n                <div className=\"deliveryHome-content-delivery\">\r\n                    { user && \r\n                    <div>\r\n                        <div className=\"header\">\r\n                            <h2>Dostawa</h2>\r\n                        </div>\r\n                        <div className=\"location\">\r\n                            <div className=\"location-input-container\">\r\n                                <SearchForRest currentUserId={ currentUserId } />\r\n                                <button style={{ display: 'none' }} onClick={ () => setOpenModal(true) }><i className=\"icon street view\"></i></button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                    { !user && \r\n                        <div className=\"header\">\r\n                            <h2>Zaloguj si, zamw i delektuj si smakiem!</h2>\r\n                        </div>\r\n                    }\r\n                    <div className=\"location-info\">\r\n                        <h2>Dostawa z restauracji:</h2>\r\n                        <p>PL DVL-DESIGNS KIELCE,</p>\r\n                        <p>tel: 432 423 424,</p>\r\n                        <p>GODZINY OTWARCIA W DNI ROBOCZE: 9:00 - 23:00. WEEKEND: 11:00 - 20:00.</p>\r\n                    </div>\r\n                    <div className=\"delivery-btn\">\r\n                        <Link to=\"/delivery/menu\"><button><i className=\"icon tasks\"></i>Zamwienie</button></Link>\r\n                    </div>\r\n                    <div className=\"bottom-info-payment\">\r\n                        <img alt=\"payment\" src=\"/delivery/assets/images/paypal-logo.png\" />\r\n                        <img alt=\"payment\" src=\"/delivery/assets/images/blik.png\" />\r\n                        <img alt=\"payment\" src=\"/delivery/assets/images/payu.png\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"deliveryHome-content-banner\">\r\n                    <img alt=\"fastfood\" src=\"/delivery/assets/images/club-sandwich.webp\" />\r\n                </div>\r\n            </div>\r\n            { openModal && <DeliveryModalHome setOpenModal={ setOpenModal } /> }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeliveryHome;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { auth } from '../../../firebaseConfig';\r\nimport './DeliveryLogin.css';\r\n\r\nclass DeliveryLogin extends React.Component {\r\n\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        error: ''\r\n    };\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        auth.signInWithEmailAndPassword(this.state.email, this.state.password).then(() => {\r\n            this.setState({\r\n                email: '',\r\n                password: '',\r\n                error: ''\r\n            });\r\n            this.props.history.push('/delivery');\r\n        }).catch(err => this.setState({ error: err.message }));\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"deliveryLogin\">\r\n                <h2>Logowanie</h2>\r\n                <div className=\"deliveryLogin-form\">\r\n                    <form className=\"form\" onSubmit={ this.onSubmit }>\r\n                    <div className=\"form-field\">\r\n                        <label>Email</label>\r\n                        <input type=\"email\" name=\"email\" onChange={ e => this.setState({ email: e.target.value }) } value={ this.state.email } required />\r\n                    </div>\r\n                    <div className=\"form-field\">\r\n                        <label>Haso</label>\r\n                        <input type=\"password\" name=\"password\" onChange={ e => this.setState({ password: e.target.value }) } value={ this.state.password } required />\r\n                    </div>\r\n                        <button type=\"submit\">Zaloguj si</button>\r\n                        <Link to=\"/delivery/register\">Nie masz konta?</Link>\r\n                        <Link to=\"/delivery/resetpassword\">Zapomniae/a hasa/o?</Link>\r\n                    </form>\r\n                    <div className=\"deliveryLogin-form-img\">\r\n                        <img alt=\"fastfood\" src=\"/delivery/assets/images/lazania.jpg\" />\r\n                    </div>\r\n                </div>\r\n                { this.state.error && <div className=\"ui negative message dvl-message-l\">{ this.state.error }</div> }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeliveryLogin;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { auth, db } from '../../../firebaseConfig';\r\nimport './DeliveryRegister.css';\r\n\r\nclass DeliveryRegister extends React.Component {\r\n\r\n    state = {\r\n        username: '',\r\n        phone: '',\r\n        email: '',\r\n        location: '',\r\n        password: '',\r\n        acceptPolise: false,\r\n        error: '',\r\n        eyeClassName: 'icon eye'\r\n    };\r\n\r\n    toggleEyePassVisible = () => {\r\n        const idpass = document.querySelector('#id_pass');\r\n\r\n        if (idpass.getAttribute('type') === 'password') {\r\n            const type = 'text';\r\n            this.setState({ eyeClassName: 'icon eye slash' });\r\n            idpass.setAttribute('type', type);\r\n        } else {\r\n            const type = 'password';\r\n            this.setState({ eyeClassName: 'icon eye' });\r\n            idpass.setAttribute('type', type);\r\n        }\r\n    }\r\n\r\n    register = e => {\r\n        e.preventDefault();\r\n\r\n        auth.createUserWithEmailAndPassword(this.state.email, this.state.password).then(call => {\r\n            db.collection('users_info').doc(call.user.uid).set({\r\n                UserName: this.state.username,\r\n                Phone: this.state.phone,\r\n                Email: this.state.email,\r\n                Location: this.state.location,\r\n                Polise: this.state.acceptPolise,\r\n                Id: call.user.uid\r\n            }).then(() => {\r\n                this.setState({\r\n                    username: '',\r\n                    phone: '',\r\n                    email: '',\r\n                    location: '',\r\n                    password: '',\r\n                    acceptPolise: false,\r\n                    error: ''\r\n                });\r\n                auth.currentUser.sendEmailVerification().then(() => {\r\n                    console.log('Email weryfikacyjny wysany!');\r\n                })\r\n                this.props.history.push('/delivery');\r\n            }).catch(err => this.setState({ error: err.message }));\r\n        }).catch(err => this.setState({ error: err.message }));\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"deliveryRegister\">\r\n                <h2>Rejestracja</h2>\r\n                <div className=\"deliveryRegister-form\">\r\n                    <div className=\"deliveryRegister-form-img\">\r\n                        <img alt=\"fastfood\" src=\"/delivery/assets/images/pizza.jpg\" />\r\n                        <p><i className=\"icon info\"></i>Administratorem Twoich danych osobowych jest Dvl-designs z siedzib we Kielcach. Twoje dane osobowe bd przetwarzane w celu kierowania do Ciebie treci marketingowych w wybranej formie, a take w celach statystycznych i analitycznych administratora.</p>\r\n                    </div>\r\n                    <form className=\"form\" onSubmit={ this.register }>\r\n                        <div className=\"form-field\">\r\n                            <label>Nazwa uytkownika</label>\r\n                            <input type=\"text\" onChange={ e => this.setState({ username: e.target.value }) } value={ this.state.username } required />\r\n                        </div>\r\n                        <div className=\"form-field\">\r\n                            <label>Numer telefonu</label>\r\n                            <input type=\"number\" onChange={ e => this.setState({ phone: e.target.value }) } value={ this.state.phone } required />\r\n                        </div>\r\n                        <div className=\"form-field\">\r\n                            <label>Email</label>\r\n                            <input type=\"email\" onChange={ e => this.setState({ email: e.target.value }) } value={ this.state.email } required />\r\n                        </div>\r\n                        <div className=\"form-field\">\r\n                            <label>Adres dostawy</label>\r\n                            <input type=\"text\" onChange={ e => this.setState({ location: e.target.value }) } value={ this.state.location } required />\r\n                        </div>\r\n                        <div className=\"form-field pass_cont\">\r\n                            <label>Haso</label>\r\n                            <input type=\"password\" onChange={ e => this.setState({ password: e.target.value }) } value={ this.state.password } id=\"id_pass\" required />\r\n                            <i onClick={ () => this.toggleEyePassVisible() } className={ this.state.eyeClassName }></i>\r\n                        </div>\r\n                        <div className=\"form-field dvl-flex\">\r\n                            <input type=\"checkbox\" onChange={ e => this.setState({ acceptPolise: e.target.checked }) } checked={ this.state.acceptPolise } required/>\r\n                            <p><i className=\"icon star\"></i> Zapoznaam(em) si i akceptuj Regulamin oraz Polityk Prywatnoci</p>\r\n                        </div>\r\n                        <button type=\"submit\">Docz do nas</button>\r\n                        <Link to=\"/delivery/login\">Posiadasz konto?</Link>\r\n                    </form>\r\n                </div>\r\n                { this.state.error && <div className=\"ui negative message dvl-message-r\">{ this.state.error }</div> }\r\n            </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default DeliveryRegister;","import React, { useState, useEffect } from 'react';\r\nimport { auth, db } from '../../../firebaseConfig';\r\nimport firebase from 'firebase/app';\r\nimport { Link } from 'react-router-dom';\r\nimport './DeliveryProfile.css';\r\n\r\nconst DeliveryProfile = ({ currentUserId, currentPhone, currentLocation, currentUserName, currentEmail }) => {\r\n\r\n    const [username, setUsername] = useState(currentUserName);\r\n    const [phone, setPhone] = useState(currentPhone);\r\n    const [email, setEmail] = useState(currentEmail);\r\n    const [location, setLocation] = useState(currentLocation);\r\n    const [password, setPassword] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const reauthenticate = (currentPassword) => {\r\n        var user = auth.currentUser;\r\n        var cred = firebase.auth.EmailAuthProvider.credential(\r\n            user.email, currentPassword);\r\n        return user.reauthenticateWithCredential(cred);\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    const updateProfile = (e) => {\r\n        // first email auth\r\n        e.preventDefault();\r\n\r\n        reauthenticate(password).then(() => {\r\n            var user = auth.currentUser;\r\n            user.updateEmail(email).then(() => {\r\n                console.log(\"Zmieniono email\");\r\n\r\n                db.collection('users_info').doc(currentUserId).update({\r\n                    UserName: username,\r\n                    Phone: phone,\r\n                    Location: location,\r\n                    Email: email\r\n                }).then(() => {\r\n                    setSuccess('');\r\n                    setError('');\r\n                })\r\n\r\n                setSuccess('Zapisano zmiany');\r\n            }).catch(() => setError('Bd podczas zapisu'));\r\n        }).catch((error) => { console.log(error); });\r\n\r\n    }\r\n\r\n    return(\r\n        <div className=\"deliveryProfile\">\r\n            <div className=\"deliveryProfile-box\">\r\n                <h2>Ustawienia</h2>\r\n                <p>Moesz tutaj zmieni swoje ustawienia profilowe</p>\r\n                <form onSubmit={ updateProfile }>\r\n                    <div className=\"deliveryProfile-form-field\">\r\n                        <label>Nazwa uytkownika</label>\r\n                        <input type=\"text\" onChange={ e => setUsername(e.target.value) } value={ username } required />\r\n                    </div>\r\n                    <div className=\"deliveryProfile-form-field\">\r\n                        <label>Telefon</label>\r\n                        <input type=\"number\" onChange={ e => setPhone(e.target.value) } value={ phone } required />\r\n                    </div>\r\n                    <div className=\"deliveryProfile-form-field\">\r\n                        <label>Email</label>\r\n                        <input type=\"email\" onChange={ e => setEmail(e.target.value) } value={ email } required />\r\n                    </div>\r\n                    <div className=\"deliveryProfile-form-field\">\r\n                        <label>Adres dostawy</label>\r\n                        <input type=\"text\" onChange={ e => setLocation(e.target.value) } value={ location } required />\r\n                    </div>\r\n                    <div className=\"deliveryProfile-form-field\">\r\n                        <p>Podaj swoje obecne haso w celach weryfikacyjnych. Zgadzasz si w ten sposb na zmian swoich danych.</p>\r\n                        <input type=\"password\" onChange={ e => setPassword(e.target.value) } value={ password } placeholder=\"Podaj tu swoje obecne haso...\" required />\r\n                    </div>\r\n                    <button type=\"submit\">Zapisz</button>\r\n                </form>\r\n                { success !== '' && \r\n                    <div className=\"ui positive message\">{ success }</div>\r\n                }\r\n                { error !== '' &&\r\n                    <div className=\"ui negative message\">{ error }</div>\r\n                }\r\n                <div className=\"deliveryProfile-reset-password\">\r\n                    <label>Chcesz zmieni haso?</label>\r\n                    <Link to=\"/delivery/resetpassword\"><button>Resetuj</button></Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeliveryProfile;","import React, { useContext } from 'react';\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Link } from 'react-router-dom';\r\n// import Swiper core and required modules\r\nimport SwiperCore, {\r\n    Scrollbar, Navigation\r\n  } from 'swiper/core';\r\n// Import Swiper styles\r\nimport \"swiper/swiper.min.css\";\r\nimport \"swiper/components/pagination/pagination.min.css\";\r\nimport \"swiper/components/navigation/navigation.min.css\";\r\nimport './DeliverySliderMenu.css';\r\nimport { PStore } from '../../../store/PStore';\r\n\r\n// install Swiper modules\r\nSwiperCore.use([Scrollbar, Navigation]);\r\n\r\nconst DeliverySliderMenu = ({ single }) => {\r\n\r\n    const { products } = useContext(PStore);\r\n\r\n    return(\r\n        <div className=\"deliverySliderMenu\">\r\n            <Swiper slidesPerView={4} scrollbar={true} spaceBetween={30} navigation={true} grabCursor={true} className=\"mySwiper\">\r\n            { products.filter(fav => fav.ProductFiveStar === 'tak').map(prod => ( \r\n                    <SwiperSlide key={ prod.Id }>\r\n                        <Link to={ `${ single }${ prod.Id }` }>\r\n                            <div className=\"dvl-slide-content\">\r\n                                <img alt=\"food\" src={ prod.ProductUrl } />\r\n                                <div className=\"dvl-slide-bg-rgba\">\r\n                                    <h3>{ prod.ProductName }</h3>\r\n                                </div>\r\n                            </div>\r\n                        </Link>\r\n                    </SwiperSlide>\r\n            )) }\r\n            </Swiper>\r\n        </div>\r\n    );  \r\n};\r\n\r\nexport default DeliverySliderMenu;","import React, { useContext } from 'react';\r\nimport './DeliverySliderDinner.css';\r\nimport { PStore } from '../../../store/PStore';\r\n// Import Swiper React components\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Import Swiper styles\r\nimport \"swiper/swiper.min.css\";\r\nimport \"swiper/components/scrollbar/scrollbar.min.css\";\r\nimport \"swiper/components/navigation/navigation.min.css\";\r\nimport \"swiper/components/pagination/pagination.min.css\";\r\n\r\n// import Swiper core and required modules\r\nimport SwiperCore, {\r\n    Scrollbar, Navigation\r\n  } from 'swiper/core';\r\n  \r\n  // install Swiper modules\r\n  SwiperCore.use([Scrollbar, Navigation]);\r\n\r\nconst DeliverySliderDinner = () => {\r\n\r\n    const { products } = useContext(PStore);\r\n\r\n    return(\r\n        <div className=\"deliverySliderDinner\">\r\n            <Swiper slidesPerView={3} slidesPerColumn={2} spaceBetween={30} navigation={true} grabCursor={true} scrollbar={true} className=\"mySwiper\">\r\n            { products.filter(fav => fav.ProductCategory === 'Obiady').map(prod => ( \r\n                <SwiperSlide key={ prod.Id }>\r\n                    <Link to={ `single/${ prod.Id }` }>\r\n                        <div className=\"dvl-slide-content\">\r\n                            <img alt=\"food\" src={ prod.ProductUrl } />\r\n                            <div className=\"dvl-slide-bg-rgba\">\r\n                                <h3>{ prod.ProductName }</h3>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                </SwiperSlide>\r\n            )) }    \r\n            </Swiper>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeliverySliderDinner;","import React, { useContext, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './DeliveryMenu.css';\r\nimport DeliverySliderMenu from '../DeliverySliderMenu/DeliverySliderMenu';\r\nimport DeliverySliderDinner from '../DeliverySliderDinners/DeliverySliderDinners';\r\n\r\nimport { PStore } from '../../../store/PStore';\r\n\r\nconst DeliveryMenu = () => {\r\n\r\n    const { products } = useContext(PStore);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n    }, [])\r\n\r\n    return(\r\n        <div className=\"deliveryMenu\">\r\n            { products.length !== 0 && \r\n            <h1>Polecane dla Ciebie</h1>\r\n            }\r\n            <DeliverySliderMenu single=\"single/\" />\r\n            { products.length !== 0 && \r\n            <h1>Polecane obiady</h1>\r\n            }\r\n            <DeliverySliderDinner />\r\n            { products.length !== 0 && \r\n            <h1 className=\"all-menu\">Cae menu</h1>\r\n            }\r\n            <div className=\"deliveryMenu-all-products\">\r\n                { products.map(product => ( \r\n                <div className=\"deliveryMenu-card\" key={ product.Id }>\r\n                    <div className=\"deliveryMenu-card-img\">\r\n                        <Link to={ `single/${ product.Id }` }><img alt=\"food\" src={ product.ProductUrl } /></Link>\r\n                    </div>\r\n                    <div className=\"deliveryMenu-card-content\">\r\n                        <h3>{ product.ProductName }</h3>\r\n                        <p>{ product.ProductDescription }</p>\r\n                        <Link to={ `single/${ product.Id }` }><span>{ product.ProductPrice } z</span></Link>\r\n                    </div>\r\n                </div>\r\n                )) }\r\n            </div>\r\n            { products.length === 0 && \r\n            <div className=\"ui active dimmer inverted dvl-color-bg-loader\">\r\n                <div className=\"ui large text loader dvl-color-loader\">Prosz czeka</div>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeliveryMenu;","import React from 'react';\r\nimport './DeliveryFooter.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst DeliveryFooter = ({ user }) => {\r\n    return(\r\n        <div className=\"deliveryFooter\">\r\n            <div className=\"deliveryFooter-top\">\r\n                <div className=\"deliveryFooter-top-info\">\r\n                    <div className=\"phone-contact\">\r\n                        <i className=\"icon phone\"></i>\r\n                        <h3>Zamw przez telefon</h3>\r\n                        <p>546345345</p>\r\n                    </div>\r\n                    <div className=\"security\">\r\n                        <i className=\"icon key\"></i> \r\n                        <h3>Bezpieczestwo</h3>\r\n                        <p>Bezpieczne patnoci on-line</p>\r\n                    </div>\r\n                    <div className=\"client\">\r\n                        <i className=\"icon user circle\"></i>\r\n                        <h3>Konto</h3>\r\n                        <p>Zaloguj lub za konto</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"deliveryFooter-top-app\">\r\n                    <div className=\"deliveryFooter-top-app-img\">\r\n                        <img alt=\"aplication\" src=\"/delivery/assets/images/bgphone2x.png\" />\r\n                    </div>\r\n                    <div className=\"deliveryFooter-top-app-content\">\r\n                        <h3>Aplikacja moblina</h3>\r\n                        <p>Zamawiaj szybko i wygodnie z nasz aplikacj mobiln</p>\r\n                        <a href=\"/delivery/assets/android_apk/app-debug.apk\" target=\"_blank\" download><button><i className=\"icon android\"></i>APK</button></a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"deliveryFooter-bottom\">\r\n                <div className=\"deliveryFooter-bottom-menu\">\r\n                    <ul>\r\n                        <li><Link to=\"/delivery/menu\">Menu</Link></li>\r\n                        { user && \r\n                        <>\r\n                            <li><Link to=\"/delivery/fav\">Ulubione</Link></li>\r\n                            <li><Link to=\"/delivery/profile\">Profil</Link></li>\r\n                        </>    \r\n                        }\r\n                    </ul>\r\n                </div>\r\n                <div className=\"deliveryFooter-bottom-footer\">\r\n                    <p>&copy; Designed & created by Mateusz Hus | dvl-designs</p>\r\n                </div>\r\n            </div>\r\n        </div>  \r\n    );\r\n};\r\n\r\nexport default DeliveryFooter;","import React, { useContext, useState, useEffect } from 'react';\r\nimport DeliverySliderMenu from '../DeliverySliderMenu/DeliverySliderMenu';\r\nimport { PStore } from '../../../store/PStore';\r\nimport { rdb } from '../../../firebaseConfig';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './DeliverySingleProduct.css';\r\n\r\nconst DeliverySingleProduct = ({ currentUserId, user }) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const [countVal, setCountVal] = useState(1);\r\n    const [error, setError] = useState('');\r\n\r\n    const { products } = useContext(PStore);\r\n    const { fav_added } = useContext(PStore);\r\n    const { basket_added } = useContext(PStore);\r\n\r\n    const pathId = window.location.pathname.substr(17);\r\n\r\n    const prodslength = products.filter(fav => fav.Id === pathId).length;\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (countVal === 0) {\r\n            setCountVal(1);\r\n        }\r\n    }, [countVal])\r\n\r\n    const minus = (val) => {\r\n\r\n        if (val < 1) {\r\n            setCountVal(1);\r\n        } else {\r\n            setCountVal(val - 1);\r\n        }\r\n    };\r\n\r\n    const plus = (val) => {\r\n\r\n        setCountVal(val + 1);\r\n    };\r\n\r\n    const pushToFavourite = (pCategory, pDesc, pId, pName, pPrice) => {\r\n\r\n        const fav = fav_added.find(fav => fav.IdUser === currentUserId && fav.ProductId === pId);\r\n\r\n        if (!fav) {\r\n            var ref = rdb.ref('favourite_added');\r\n            var childRef = ref.push({\r\n                IdUser: currentUserId,\r\n                ProductCategory: pCategory,\r\n                ProductDescription: pDesc,\r\n                ProductId: pId,\r\n                ProductName: pName,\r\n                ProductPrice: pPrice\r\n            }).catch(err => console.log('bd podczas pushowania danych', err));\r\n            childRef.then(item => {\r\n                ref.child(item.key).update({\r\n                    IdKey: item.key\r\n                }).then(() => history.push('/delivery/fav'));\r\n            });\r\n        } else {\r\n            setError('Ten produkt ju znajduje si w ulubionych.');\r\n        }\r\n    }\r\n\r\n    const pushToBasket = (pCategory, pDesc, pId, pName, pPrice, pQuan, pPerItemPrice) => {\r\n\r\n        const basket = basket_added.find(basket => basket.IdUser === currentUserId && basket.ProductId === pId);\r\n\r\n        if (!basket) {\r\n            var ref = rdb.ref('basket_added');\r\n            var childRef = ref.push({\r\n                IdUser: currentUserId,\r\n                ProductCategory: pCategory,\r\n                ProductDescription: pDesc,\r\n                ProductId: pId,\r\n                ProductName: pName,\r\n                ProductPrice: pPrice,\r\n                ProductQuantity: pQuan,\r\n                ProductPath: pathId,\r\n                ProductPerItemPrice: pPerItemPrice\r\n            }).catch(err => console.log('bd podczas pushowania danych', err));\r\n            childRef.then(item => {\r\n                ref.child(item.key).update({\r\n                    IdKey: item.key\r\n                }).then(() => history.push('/delivery/basket'));\r\n            });\r\n        } else {\r\n            setError('Ten produkt ju znajduje si w koszyku.');\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n        { prodslength === 0 && \r\n        <div className=\"ui active dimmer inverted dvl-color-bg-loader\">\r\n            <div className=\"ui large text loader dvl-color-loader\">Prosz czeka</div>\r\n        </div>\r\n        }\r\n        { products.filter(fav => fav.Id === pathId).map(prod => (\r\n        <div className=\"deliverySingleProduct\" key={ prod.Id }>\r\n            <div className=\"deliverySingleProduct-img\">\r\n                <img alt=\"food\" src={ prod.ProductUrl } />\r\n            </div>\r\n            <div className=\"deliverySingleProduct-content\">\r\n                <h1>{ prod.ProductName }</h1>\r\n                <p>{ prod.ProductDescription }</p>\r\n                <div className=\"deliverySingleProduct-counter\">\r\n                    <button onClick={ () => minus(countVal) } className=\"deliverySingleProduct-minus\"><i className=\"icon minus\"></i></button>\r\n                    <input type=\"number\" alt=\"count\" onChange={ (e) => { setCountVal(e.target.value) } } value={ countVal }/>\r\n                    <button onClick={ () => plus(countVal) } className=\"deliverySingleProduct-plus\"><i className=\"icon plus\"></i></button>\r\n                </div>\r\n                <div className=\"deliverySingleProduct-totalPrice\">\r\n                    <h2>{ (prod.ProductPrice * countVal).toFixed(2) }</h2>\r\n                    <p>z</p>\r\n                </div>\r\n                { user &&\r\n                    <button onClick={ () => pushToBasket(prod.ProductCategory, prod.ProductDescription, prod.Id, prod.ProductName, (prod.ProductPrice * countVal).toFixed(2), countVal, prod.ProductPrice) } type=\"submit\"><i className=\"icon shopping basket\"></i>Dodaj do koszyka</button>\r\n                }\r\n                { !user &&\r\n                    <button disabled style={{ backgroundColor: '#999' }} type=\"submit\"><i className=\"icon shopping basket\"></i>Dodaj do koszyka</button>\r\n                }\r\n                { user &&\r\n                    <button onClick={ () => pushToFavourite(prod.ProductCategory, prod.ProductDescription, prod.Id, prod.ProductName, prod.ProductPrice) } className=\"heart-to-favourite\"><i className=\"icon heart\"></i></button>\r\n                }\r\n                { error &&\r\n                    <div className=\"ui negative message\">{ error }</div>\r\n                }\r\n            </div>\r\n        </div>\r\n        )) }  \r\n        <h1 className=\"prod-for-you\">Polecane dla Ciebie</h1>\r\n        <DeliverySliderMenu single=\"../single/\" />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DeliverySingleProduct;","import React, { useContext, useState, useEffect } from 'react';\r\nimport { PStore } from '../../../store/PStore';\r\nimport { rdb } from '../../../firebaseConfig';\r\nimport { Link } from 'react-router-dom';\r\nimport './DeliveryBasket.css';\r\n\r\nconst DeliveryBasket = ({ currentUserId }) => {\r\n\r\n    const [totalPrice, setTotalPrice] = useState(null);\r\n\r\n    const [pQuan, setPQuan] = useState(null);\r\n\r\n    const { basket_added } = useContext(PStore);\r\n\r\n    const isBasket = basket_added.filter(bas => bas.IdUser === currentUserId).length;\r\n\r\n    useEffect(() => {\r\n        let total = 0;\r\n        basket_added.filter(bas => bas.IdUser === currentUserId).forEach(prod => {  \r\n            total = total + Number(prod.ProductPrice);\r\n        });\r\n        setTotalPrice((total).toFixed(2));\r\n    }, [totalPrice, basket_added, currentUserId])\r\n\r\n    useEffect(() => {\r\n        if (pQuan === 0) {\r\n            setPQuan(1);\r\n        }\r\n    }, [pQuan])\r\n\r\n    const minus = (val, key, price_per_item) => {\r\n        if (val > 1) {\r\n            rdb.ref('basket_added').child(key).update({\r\n                ProductQuantity: val - 1,\r\n                ProductPrice: (price_per_item * (val - 1)).toFixed(2)\r\n            })\r\n        }\r\n    };\r\n\r\n    const plus = (val, key, price_per_item) => {\r\n        rdb.ref('basket_added').child(key).update({\r\n            ProductQuantity: val + 1,\r\n            ProductPrice: (price_per_item * (val + 1)).toFixed(2)\r\n        }) \r\n    };\r\n\r\n    const removeItemFromBasket = (idKey) => {\r\n        rdb.ref('basket_added').child(idKey).remove();\r\n    }\r\n\r\n    return(\r\n        <div className=\"deliveryBasket\">\r\n            <div className=\"deliveryBasket-details\">\r\n                <table className=\"ui inverted table deliveryBasket-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Nazwa</th>\r\n                            <th>Opis</th>\r\n                            <th>Ilo</th>\r\n                            <th>Cena</th>\r\n                            <th>Usu</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { isBasket === 0 &&\r\n                        <tr>\r\n                            <td>Brak produktw w koszyku</td>\r\n                        </tr>                                              \r\n                        }\r\n                        { basket_added.filter(bas => bas.IdUser === currentUserId).map(prod => (\r\n                        <tr key={ prod.IdKey }>\r\n                            <td>{ prod.ProductName }</td>\r\n                            <td>{ prod.ProductDescription }</td>\r\n                            <td>\r\n                                <div className=\"deliveryBasket-tbody-flex\">\r\n                                    <button onClick={ () => minus(((pQuan === null) ? prod.ProductQuantity : pQuan), prod.IdKey, prod.ProductPerItemPrice) }><i className=\"icon minus\"></i></button>\r\n                                    <input onChange={ e => setPQuan(e.target.value) } value={ (pQuan === null) ? prod.ProductQuantity : pQuan } type=\"number\" />\r\n                                    <button onClick={ () => plus(((pQuan === null) ? prod.ProductQuantity : pQuan), prod.IdKey, prod.ProductPerItemPrice) }><i className=\"icon plus\"></i></button>\r\n                                </div>\r\n                            </td>\r\n                            <td>{ (pQuan === null) ? prod.ProductPrice : (prod.ProductPerItemPrice * pQuan).toFixed(2) } z</td>\r\n                            <td><button onClick={ () => removeItemFromBasket(prod.IdKey) }><i className=\"icon delete\"></i></button></td>\r\n                        </tr>\r\n                        )) }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"deliveryBasket-final\">\r\n                <div className=\"deliveryBasket-final-card\">\r\n                    { isBasket === 0 &&\r\n                        <h2>Nie czekaj, zamw co i ciesz si smakiem</h2>                                            \r\n                    }\r\n                    { isBasket !== 0 && \r\n                    <>\r\n                    <div className=\"deliveryBasket-final-card-header\">\r\n                        <h2>Podsumowanie:</h2>\r\n                    </div>\r\n                    <div className=\"deliveryBasket-final-card-content\">\r\n                        <p>Razem: { totalPrice } z</p>\r\n                        <p>Dostawa: 0 z</p>\r\n                    </div>\r\n                    <div className=\"deliveryBasket-final-card-footer\">\r\n                        <Link to=\"/delivery/finalize\"><button><i className=\"icon sticky note outline\"></i>Finalizowanie</button></Link>\r\n                    </div>\r\n                    </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DeliveryBasket;","import React, { useContext, useState, useEffect } from 'react';\r\nimport { PStore } from '../../../store/PStore';\r\nimport { Link } from 'react-router-dom';\r\nimport { rdb } from '../../../firebaseConfig';\r\nimport './DeliveryFavourite.css';\r\n\r\nconst DeliveryFavourite = ({ currentUserId }) => {\r\n\r\n    const [success, setSuccess] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const { fav_added } = useContext(PStore);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    const isFavourite = fav_added.filter(bas => bas.IdUser === currentUserId).length;\r\n\r\n    const removeItemFav = (idkey) => {\r\n        rdb.ref('favourite_added').child(idkey).remove().then(() => {\r\n            setSuccess('');\r\n            setError('');\r\n        }).then(() => setSuccess('Usunito wybrany produkt z ulubionych'))\r\n        .catch(err => setError('Bd. Nie udao si usun wybranego produktu'));\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <div className=\"deliveryFavourite\">\r\n            <div className=\"deliveryFavourite-grid\">\r\n            { fav_added.filter(bas => bas.IdUser === currentUserId).map(prod => (\r\n                <div className=\"deliveryFavourite-card\" key={ prod.IdKey }>\r\n                    <h2>{ prod.ProductName }</h2>\r\n                    <p>{ prod.ProductDescription }</p>\r\n                    <Link to={ `/delivery/single/${ prod.ProductId }` }><i className=\"icon eye\"></i></Link>\r\n                    <button onClick={ () => removeItemFav(prod.IdKey) }><i className=\"icon delete\"></i></button>\r\n                </div>\r\n            )) }    \r\n            </div>\r\n        </div>\r\n        {\r\n            success !== '' &&\r\n            <p className=\"ui positive message\">{ success }</p>\r\n        }\r\n        {\r\n            error !== '' &&\r\n            <p className=\"ui negative message\">{ error }</p>\r\n        }\r\n        { isFavourite === 0 && \r\n            <div className=\"deliveryFavourite-no-fav-products\">\r\n                <div className=\"deliveryFavourite-no-fav-products-circle\">\r\n                    <img alt=\"star\" src=\"/delivery/assets/images/Star_icon.png\" />\r\n                </div>\r\n                <h2>Twoja lista jest pusta</h2>\r\n            </div>\r\n        }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DeliveryFavourite;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { PStore } from '../../../store/PStore';\r\nimport { rdb } from '../../../firebaseConfig';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SearchForRest from '../DeliverySearchRestaurant/SearchForRest';\r\nimport './DeliveryFinalize.css';\r\n\r\nfunction useRadioButtons(name) {\r\n    const [value, setState] = useState(null);\r\n  \r\n    const handleChange = e => {\r\n      setState(e.target.value);\r\n    };\r\n  \r\n    const inputProps = {\r\n      name,\r\n      type: \"radio\",\r\n      onChange: handleChange\r\n    };\r\n  \r\n    return [value, inputProps];\r\n}\r\n\r\nconst DeliveryFinalize = ({ currentUserId, currentLocation, currentPhone }) => {\r\n\r\n    const { basket_added, restl } = useContext(PStore);\r\n\r\n    const [platformValue, plaftormInputProps] = useRadioButtons(\"payment\");\r\n    const [payMethodValue, payMethodInputProps] = useRadioButtons(\"pay_method\");\r\n\r\n    const [payOnline, setPayOnline] = useState('none');\r\n    const [payCartHome, setPayCartHome] = useState('none');\r\n    const [payPersonal, setPayPersonal] = useState('none');\r\n\r\n    const[phone, setPhone] = useState(currentPhone);\r\n    const[location, setLocation] = useState(currentLocation);\r\n\r\n    // topaypal\r\n    const[goToPaypal, setGoToPaypal] = useState(false);\r\n    const[goToPayU, setGoToPayU] = useState(false);\r\n    const[goGPay, setGoGPay] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    // TODO zabezpieczy jeeli w koszyku nie ma nic\r\n\r\n    useEffect(() => {\r\n\r\n        if (platformValue === 'online') {\r\n            setPayOnline('block');\r\n            setPayCartHome('none');\r\n            setPayPersonal('none');\r\n        }\r\n\r\n        if (platformValue === 'cart') {\r\n            setPayCartHome('block');\r\n            setPayOnline('none');\r\n            setPayPersonal('none');\r\n        }\r\n\r\n        if (platformValue === 'personal') {\r\n            setPayPersonal('block');\r\n            setPayOnline('none');\r\n            setPayCartHome('none');\r\n        }\r\n\r\n    }, [platformValue])\r\n\r\n    useEffect(() => {\r\n        if (payMethodValue === 'paypal') {\r\n            setGoToPaypal(true);\r\n            setGoToPayU(false);\r\n            setGoGPay(false);\r\n        }\r\n\r\n        if (payMethodValue === 'payu') {\r\n            setGoToPayU(true);\r\n            setGoToPaypal(false);\r\n            setGoGPay(false);\r\n        }\r\n\r\n        if (payMethodValue === 'googlepay') {\r\n            setGoGPay(true);\r\n            setGoToPaypal(false);\r\n            setGoToPayU(false);\r\n        }\r\n    }, [payMethodValue])\r\n\r\n    useEffect(() => {\r\n        setPhone(currentPhone);\r\n        setLocation(currentLocation);\r\n    }, [currentLocation, currentPhone])\r\n\r\n    const paypalPayment = () => {\r\n\r\n        if (goToPaypal === true) {\r\n            history.push('/delivery/paypal');\r\n        }\r\n\r\n        if (goToPayU === true) {\r\n            console.log('payu is true');\r\n        }\r\n\r\n        if (goGPay === true) {\r\n            history.push('/delivery/googlepay');\r\n        }\r\n\r\n    }\r\n\r\n    const payInRestaurant = () => {\r\n        restl.filter(rest => rest.IdUser === currentUserId).forEach(prod => {\r\n            const ref = rdb.ref('orders_pay_on_delivery');\r\n            const childRef = ref.push({\r\n                ClientId: currentUserId,\r\n                Location: currentLocation,\r\n                OrderDate: Date(),\r\n                PaymentMethod: \"przy odbiorze osobistym w restauracji\",\r\n                PaymentResult: \"brak\",\r\n                Phone: currentPhone,\r\n                Restaurant: prod.RestLocation\r\n            }).catch(err => console.log(err));\r\n            childRef.then(item => {\r\n                ref.child(item.key).update({\r\n                    KeyId: item.key\r\n                });\r\n            });\r\n        });\r\n\r\n        basket_added.filter(bas => bas.IdUser === currentUserId).forEach(prod => { \r\n            rdb.ref('basket_added').child(prod.IdKey).remove();\r\n        });\r\n\r\n        history.push(`/delivery/paymentsuccess/payInRestaurant`);\r\n    }\r\n\r\n    const payCardOnDelivery = () => {\r\n        const ref = rdb.ref('orders_pay_on_delivery');\r\n        const childRef = ref.push({\r\n            ClientId: currentUserId,\r\n            Location: currentLocation,\r\n            OrderDate: Date(),\r\n            PaymentMethod: \"przy dostawie\",\r\n            PaymentResult: \"brak\",\r\n            Phone: currentPhone\r\n        }).catch(err => console.log(err));\r\n        childRef.then(item => {\r\n            ref.child(item.key).update({\r\n                KeyId: item.key\r\n            });\r\n        });\r\n\r\n        basket_added.filter(bas => bas.IdUser === currentUserId).forEach(prod => { \r\n            rdb.ref('basket_added').child(prod.IdKey).remove();\r\n        });\r\n\r\n        history.push('/delivery/paymentsuccess/payCardOnDelivery');\r\n    }\r\n\r\n    return(\r\n        <div className=\"deliveryFinalize\">\r\n            <div id=\"deliveryFinalize-box-main\" className=\"deliveryFinalize-box\">\r\n                <div className=\"ui form\">\r\n                    <div className=\"grouped fields\">\r\n                        <h3>Prosimy wybra metod zapaty</h3>\r\n                        <div className=\"field\">\r\n                            <div className=\"ui toggle checkbox\">\r\n                                <input value=\"online\" checked={platformValue === \"online\"} {...plaftormInputProps} />\r\n                                <label>Pac online (Z dostaw)</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field\">\r\n                            <div className=\"ui toggle checkbox\">\r\n                                <input value=\"cart\" checked={platformValue === \"cart\"} {...plaftormInputProps} />\r\n                                <label>Pac kart przy odbiorze (Z dostaw)</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field\">\r\n                            <div className=\"ui toggle checkbox\">\r\n                                <input value=\"personal\" checked={platformValue === \"personal\"} {...plaftormInputProps} />\r\n                                <label>Pac przy odbiorze osobistym (w wyznaczonej restauracji)</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div id=\"deliveryFinalize-payment-methods\" className=\"deliveryFinalize-box\" style={{ display: payOnline }}>\r\n                <h3>Metody patnoci</h3>\r\n                <div className=\"ui form\">\r\n                    <div className=\"grouped fields\">\r\n                        <div className=\"field\">\r\n                            <div className=\"ui toggle checkbox\">\r\n                                <input value=\"paypal\" checked={payMethodValue === \"paypal\"} {...payMethodInputProps} />\r\n                                <label>Paypal (aktywne)</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field\">\r\n                            <div className=\"ui toggle checkbox\">\r\n                                <input value=\"payu\" checked={payMethodValue === \"payu\"} {...payMethodInputProps} />\r\n                                <label>PayU (nieaktywne)</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"field\">\r\n                            <div className=\"ui toggle checkbox\">\r\n                                <input value=\"googlepay\" checked={payMethodValue === \"googlepay\"} {...payMethodInputProps} />\r\n                                <label>Google pay (aktywne)</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <h3>Dostawa</h3>\r\n                <div className=\"deliveryFinalize-box-fields\">\r\n                    <div className=\"box-fields\">\r\n                        <label>Telefon</label>\r\n                        <input type=\"number\" onChange={ (e) => setPhone(e.target.value) } value={ phone || '' } />\r\n                    </div>\r\n                    <div className=\"box-fields\">\r\n                        <label>Adres</label>\r\n                        <input type=\"text\" onChange={ (e) => setLocation(e.target.value) } value={ location || '' } />\r\n                    </div>\r\n                </div>\r\n                <button onClick={ () => paypalPayment() }>Zamawiam i pac</button>\r\n            </div>\r\n            <div id=\"deliveryFinalize-cart-home\" className=\"deliveryFinalize-box\" style={{ display: payCartHome }}>\r\n                <h3>Dostawa</h3>\r\n                <div className=\"deliveryFinalize-box-fields\">\r\n                    <div className=\"box-fields\">\r\n                        <label>Telefon</label>\r\n                        <input type=\"number\" onChange={ (e) => setPhone(e.target.value) } value={ phone || '' } />\r\n                    </div>\r\n                    <div className=\"box-fields\">\r\n                        <label>Adres</label>\r\n                        <input type=\"text\" onChange={ (e) => setLocation(e.target.value) } value={ location || '' } />\r\n                    </div>\r\n                </div>\r\n                <button onClick={ () => payCardOnDelivery() }>Zamawiam</button>\r\n            </div>\r\n            <div id=\"deliveryFinalize-personal\" className=\"deliveryFinalize-box\" style={{ display: payPersonal }}>\r\n                <h3>Restauracja</h3>\r\n                <div className=\"deliveryFinalize-box-fields\">\r\n                    <div className=\"box-fields\">\r\n                        <label>Lokalizacja</label>\r\n                        <SearchForRest currentUserId={ currentUserId } />\r\n                    </div>\r\n                </div>\r\n                <button onClick={ () => payInRestaurant() }>Zamawiam</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeliveryFinalize;","import React, { useEffect, useRef, useState, useContext } from 'react';\r\nimport { PStore } from '../../../store/PStore';\r\nimport { rdb } from '../../../firebaseConfig';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './DeliveryPaypal.css';\r\n\r\nconst PayPalButton = ({ currentUserId, currentPhone, currentLocation }) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const { basket_added } = useContext(PStore);\r\n\r\n    const [error, setError] = useState('');\r\n\r\n    const paypal = useRef();\r\n\r\n    useEffect(() => {\r\n        let totalp = 0;\r\n        basket_added.filter(bas => bas.IdUser === currentUserId).forEach(prod => {  \r\n            totalp = totalp + Number(prod.ProductPrice);\r\n        });\r\n\r\n        if (totalp) {\r\n            window.paypal.Buttons({\r\n                createOrder: (data, actions, err) => {\r\n                    return actions.order.create({\r\n                        intent: \"CAPTURE\",\r\n                        purchase_units: [\r\n                            {\r\n                                description: currentUserId,\r\n                                amount: {\r\n                                    currency_code: \"PLN\",\r\n                                    value: totalp.toFixed(2)\r\n                                }\r\n                            }\r\n                        ]\r\n                    })\r\n                },\r\n                onApprove: async (data, actions) => {\r\n                    const order = await actions.order.capture();\r\n\r\n                    const ref = rdb.ref('orders_pay_on_delivery');\r\n                    const childRef = ref.push({\r\n                        ClientId: currentUserId,\r\n                        Location: currentLocation,\r\n                        OrderDate: Date(),\r\n                        PaymentMethod: \"paypal\",\r\n                        PaymentResult: \"zapacone\",\r\n                        Phone: currentPhone\r\n                    }).catch(err => console.log(err));\r\n                    childRef.then(item => {\r\n                        ref.child(item.key).update({\r\n                            KeyId: item.key\r\n                        });\r\n                    });\r\n\r\n                    basket_added.filter(bas => bas.IdUser === currentUserId).forEach(prod => { \r\n                        rdb.ref('basket_added').child(prod.IdKey).remove();\r\n                    });\r\n\r\n                    history.push('/delivery/paymentsuccess/payOnline');\r\n    \r\n                },\r\n                onError: (err) => {\r\n                    setError('Bd podczas dokonywania patnoci. Prosimy sprbowa pownownie pniej lub skontaktowa si z administracj serwisu. Bd: ' + err);\r\n                }\r\n            }).render(paypal.current);\r\n        }\r\n        \r\n    }, [])\r\n\r\n    return(\r\n        <div className=\"payPalButton\">\r\n            <div ref={ paypal }></div>\r\n            { error !== '' &&\r\n                <div className=\"ui primary message\">{ error }</div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PayPalButton;","import React from 'react';\r\nimport PayPalButton from './PayPalButton';\r\nimport './DeliveryPaypal.css';\r\n\r\nconst DeliveryPaypal = ({ currentUserId, currentPhone, currentLocation, currentUserName, currentEmail }) => {\r\n\r\n    return(\r\n        <div className=\"deliveryPaypal\">\r\n            <PayPalButton currentUserId={ currentUserId } currentPhone={ currentPhone } currentLocation={ currentLocation } currentUserName={ currentUserName } currentEmail={ currentEmail } />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeliveryPaypal;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { PStore } from '../../../store/PStore';\r\nimport './DeliveryGooglePay.css';\r\nimport GooglePayButton from '@google-pay/button-react';\r\n\r\nconst DeliveryGooglePay = ({ currentUserId }) => {\r\n\r\n    const [total, setTotal] = useState(null);\r\n\r\n    const { basket_added } = useContext(PStore);\r\n\r\n    useEffect(() => {\r\n        let total = 0;\r\n        basket_added.filter(bas => bas.IdUser === currentUserId).forEach(prod => {  \r\n            total = total + Number(prod.ProductPrice);\r\n        });\r\n        setTotal((total).toFixed(2));\r\n    }, [basket_added, currentUserId]);\r\n\r\n    return(\r\n        <div className=\"deliveryGooglePay\">\r\n            <GooglePayButton\r\n                nvironment=\"TEST\"\r\n                paymentRequest={{\r\n                    apiVersion: 2,\r\n                    apiVersionMinor: 0,\r\n                    allowedPaymentMethods: [\r\n                    {\r\n                        type: 'CARD',\r\n                        parameters: {\r\n                        allowedAuthMethods: ['PAN_ONLY', 'CRYPTOGRAM_3DS'],\r\n                        allowedCardNetworks: ['MASTERCARD', 'VISA'],\r\n                        },\r\n                        tokenizationSpecification: {\r\n                        type: 'PAYMENT_GATEWAY',\r\n                        parameters: {\r\n                            gateway: 'example',\r\n                            gatewayMerchantId: 'exampleGatewayMerchantId',\r\n                        },\r\n                        },\r\n                    },\r\n                    ],\r\n                    merchantInfo: {\r\n                    merchantId: '12345678901234567890',\r\n                    merchantName: 'Demo Merchant',\r\n                    },\r\n                    transactionInfo: {\r\n                    totalPriceStatus: 'FINAL',\r\n                    totalPriceLabel: 'Total',\r\n                    totalPrice: total,\r\n                    currencyCode: 'PLN',\r\n                    countryCode: 'PL',\r\n                    },\r\n                }}\r\n                onLoadPaymentData={paymentRequest => {\r\n                    console.log('load payment data', paymentRequest);\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeliveryGooglePay;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './DeliveryNotFound.css';\r\n\r\nconst DeliveryNotFound = () => {\r\n    return(\r\n        <div className=\"deliveryNotFound\">\r\n            <div className=\"deliveryNotFound-not-found-box\">\r\n                <div className=\"deliveryNotFound-not-found-box-flex\">\r\n                    <span>4</span>\r\n                    <img src=\"/delivery/assets/images/dizzy.png\" alt=\"o\" />\r\n                    <span>4</span>\r\n                </div>\r\n                <p>Ta strona nie istnieje</p>\r\n                <p><Link to=\"/delivery\">Powrt na stron gwna</Link></p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeliveryNotFound;","import React, { useState, useEffect } from 'react';\r\nimport { auth } from '../../../firebaseConfig';\r\nimport './DeliveryForgotPassword.css';\r\n\r\nconst DeliveryForgotPassword = () => {\r\n\r\n    const [newEmail, setNewEmail] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        setSuccess('');\r\n        setError('');\r\n    }, [newEmail])\r\n\r\n    const sendLink = (e) => {\r\n        e.preventDefault();\r\n\r\n        auth.sendPasswordResetEmail(newEmail).then(() => {\r\n            setSuccess(`Link zosta wysany na ${ newEmail }.`);\r\n        }).catch(() => setError('Bd. Sprbuj ponownie pniej.'));\r\n\r\n    }\r\n\r\n    return(\r\n        <div className=\"deliveryForgotPassword\">\r\n            <form onSubmit={ sendLink }>\r\n                <h1>Odzyskiwanie hasa</h1>\r\n                <div className=\"deliveryForgotPassword-field\">\r\n                    <label>Podaj adres email</label>\r\n                    <input type=\"email\" onChange={ e => setNewEmail(e.target.value) } value={ newEmail } placeholder=\"example@xxx.xxx\" required />\r\n                    <p>Na podany adres zostanie wysany link.</p>\r\n                </div>\r\n                <button type=\"submit\">Wylij</button>\r\n                { success !== '' && \r\n                    <div className=\"ui positive message\">{ success }</div>\r\n                }\r\n                { error !== '' &&\r\n                    <div className=\"ui negative message\">{ error }</div>\r\n                }\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeliveryForgotPassword;","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { PStore } from '../../../store/PStore';\r\nimport './DeliverySearchProducts.css';\r\n\r\nconst DeliverySearchProducts = () => {\r\n\r\n    const { products } = useContext(PStore);\r\n\r\n    const pathId = window.location.pathname.substr(17);\r\n\r\n    const prodPatternLen = products.filter(p => p.ProductName === pathId.replaceAll(\"%20\", \" \")).length;\r\n\r\n    return(\r\n        <div className=\"deliverySearchProducts\">\r\n            {\r\n                products.filter(p => p.ProductName === pathId.replaceAll(\"%20\", \" \")).map(product => (\r\n\r\n                <div className=\"deliveryMenu-card\" key={ product.Id }>\r\n                    <div className=\"deliveryMenu-card-img\">\r\n                        <img alt=\"food\" src={ product.ProductUrl } />\r\n                    </div>\r\n                    <div className=\"deliveryMenu-card-content\">\r\n                        <h3>{ product.ProductName }</h3>\r\n                        <p>{ product.ProductDescription }</p>\r\n                        <span>{ product.ProductPrice } z</span>\r\n                        <Link to={ `/delivery/single/${ product.Id }` }><i className=\"icon eye\"></i></Link>\r\n                    </div>\r\n                </div>\r\n                ))\r\n            }\r\n            { prodPatternLen === 0 &&\r\n                <div className=\"ui primary message\">Brak produktw</div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default DeliverySearchProducts;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './PaymentThanks.css';\r\n\r\nconst PaymentThanks = () => {\r\n\r\n    const pathId = window.location.pathname.substr(25);\r\n\r\n    const displayMessage = () => {\r\n        switch (pathId) {\r\n            case 'payOnline':\r\n                return (\r\n                    <>\r\n                        <h1>Dzikujemy</h1>\r\n                        <p>Twoja patno powioda si.</p>\r\n                        <Link to=\"/delivery\">Strona gwna</Link>\r\n                    </>\r\n                );\r\n            case 'payCardOnDelivery':\r\n                return(\r\n                    <>\r\n                        <h1>Dzikujemy</h1>\r\n                        <p>Twoje zamwienie jest w trakcie realizacji.</p>\r\n                        <p>Szacowanych czas oczekiwania to 30 minut.</p>\r\n                        <Link to=\"/delivery\">Strona gwna</Link>\r\n                    </>\r\n                );\r\n            case 'payInRestaurant':    \r\n                return(\r\n                    <>\r\n                        <h1>Dzikujemy</h1>\r\n                        <p>Twoje zamwienie jest w trakcie realizacji.</p>\r\n                        <p>Szacowanych czas oczekiwania to 10 minut.</p>\r\n                        <p>Twoje zamwienie bdzie na Ciebie czeka przez 40 minut w wybranej wczeniej restauracji.</p>\r\n                        <Link to=\"/delivery\">Strona gwna</Link>\r\n                    </>\r\n                );\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"paymentThanks\">\r\n            { displayMessage() }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PaymentThanks;","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\n\r\nimport DeliveryHeader from './delivery/DeliveryHeader/DeliveryHeader';\r\nimport DeliveryHome from './delivery/DeliveryHome/DeliveryHome';\r\nimport DeliveryLogin from './delivery/DeliveryLogin/DeliveryLogin';\r\nimport DeliveryRegister from './delivery/DeliveryRegister/DeliveryRegister';\r\nimport DeliveryProfile from './delivery/DeliveryProfile/DeliveryProfile';\r\nimport DeliveryMenu from './delivery/DeliveryMenu/DeliveryMenu';\r\nimport DeliveryFooter from './delivery/DeliveryFooter/DeliveryFooter';\r\nimport DeliverySingleProduct from './delivery/DeliverySingleProduct/DeliverySingleProduct';\r\nimport DeliveryBasket from './delivery/DeliveryBasket/DeliveryBasket';\r\nimport DeliveryFavourite from './delivery/DeliveryFavourite/DeliveryFavourite';\r\nimport DeliveryFinalize from './delivery/DeliveryFinalize/DeliveryFinalize';\r\nimport DeliveryPaypal from './delivery/DeliveryPaypal/DeliveryPaypal';\r\nimport DeliveryGooglePay from './delivery/DeliveryGooglePay/DeliveryGooglePay';\r\nimport DeliveryNotFound from './delivery/DeliveryNotFound/DeliveryNotFound';\r\nimport DeliveryForgotPassword from './delivery/DeliveryProfile/DeliveryForgotPassword';\r\nimport DeliverySearchProducts from './delivery/DeliverySearchProducts/DeliverySearchProducts';\r\nimport PaymentThanks from './delivery/PaymentSuccessThanks/PaymentThanks';\r\n\r\nimport { auth, db } from '../firebaseConfig';\r\nimport { PStoreProvider } from '../store/PStore';\r\n\r\nclass App extends React.Component {\r\n\r\n    state = {\r\n        user: null,\r\n        currentUserId: null,\r\n        currentPhone: null,\r\n        currentLocation: '',\r\n        currentUserName: '',\r\n        currentEmail: ''\r\n    }\r\n    \r\n    componentDidMount() {\r\n        auth.onAuthStateChanged(user => {\r\n            if (user) {\r\n                db.collection('users_info').doc(user.uid).get().then(snapshot => {\r\n                    this.setState({\r\n                        user: snapshot.data().UserName,\r\n                        currentUserId: user.uid,\r\n                        currentPhone: snapshot.data().Phone,\r\n                        currentLocation: snapshot.data().Location,\r\n                        currentUserName: snapshot.data().UserName,\r\n                        currentEmail: snapshot.data().Email\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                this.setState({\r\n                    user: null,\r\n                    currentUserId: '',\r\n                    currentPhone: null,\r\n                    currentLocation: '',\r\n                    currentUserName: '',\r\n                    currentEmail: ''\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <PStoreProvider>\r\n                <BrowserRouter>\r\n                    <div>\r\n                        <DeliveryHeader user={ this.state.user } />\r\n                        <div className=\"dvl-container\">\r\n                            <Switch>\r\n                                <Route path=\"/delivery\" exact component={ () => <DeliveryHome user={ this.state.user } currentUserId={ this.state.currentUserId } /> } />\r\n                                <Route path=\"/delivery/login\" exact component={ DeliveryLogin } />\r\n                                <Route path=\"/delivery/register\" exact component={ DeliveryRegister } />\r\n                                <Route path=\"/delivery/menu\" exact component={ DeliveryMenu } />\r\n                                <Route path=\"/delivery/single/:id\" exact component={ () => <DeliverySingleProduct currentUserId={ this.state.currentUserId } user={ this.state.user } /> } />\r\n                                <Route path=\"/delivery/fav\" exact component={ () => this.state.user ? <DeliveryFavourite currentUserId={ this.state.currentUserId } /> : <DeliveryLogin /> }  />\r\n                                <Route path=\"/delivery/profile\" exact component={ () => this.state.user ? <DeliveryProfile currentUserId={ this.state.currentUserId } currentPhone={ this.state.currentPhone } currentLocation={ this.state.currentLocation } currentUserName={ this.state.currentUserName } currentEmail={ this.state.currentEmail } /> : <DeliveryLogin /> } />\r\n                                <Route path=\"/delivery/basket\" exact component={ () => this.state.user ? <DeliveryBasket currentUserId={ this.state.currentUserId } /> : <DeliveryLogin /> } />\r\n                                <Route path=\"/delivery/finalize\" exact component={ () => this.state.user ? <DeliveryFinalize currentUserId={ this.state.currentUserId } currentPhone={ this.state.currentPhone } currentLocation={ this.state.currentLocation } /> : <DeliveryLogin /> } />\r\n                                <Route path=\"/delivery/paypal\" exact component={ () => this.state.user ?  <DeliveryPaypal currentUserId={ this.state.currentUserId } currentPhone={ this.state.currentPhone } currentLocation={ this.state.currentLocation } currentUserName={ this.state.currentUserName } currentEmail={ this.state.currentEmail } /> : <DeliveryLogin /> } />\r\n                                <Route path=\"/delivery/googlepay\" exact component={ () => this.state.user ? <DeliveryGooglePay currentUserId={ this.state.currentUserId } /> : <DeliveryLogin /> } />\r\n                                <Route path=\"/delivery/resetpassword\" exact component={ () => <DeliveryForgotPassword /> } />\r\n                                <Route path=\"/delivery/search/:id\" exact component={ () => <DeliverySearchProducts /> } />\r\n                                <Route path=\"/delivery/paymentsuccess/:id\" component={ () => this.state.user ? <PaymentThanks /> : <DeliveryLogin /> } />\r\n                                <Route path=\"*\" component={ DeliveryNotFound } />\r\n                            </Switch>\r\n                        </div>\r\n                        <DeliveryFooter user={ this.state.user } />\r\n                    </div>\r\n                </BrowserRouter>\r\n            </PStoreProvider>\r\n        );\r\n    }  \r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}