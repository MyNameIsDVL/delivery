(this.webpackJsonpdelivery=this.webpackJsonpdelivery||[]).push([[0],{183:function(e,t,c){},194:function(e,t,c){},195:function(e,t,c){},200:function(e,t,c){},206:function(e,t,c){},207:function(e,t,c){},404:function(e,t,c){},405:function(e,t,c){},406:function(e,t,c){},407:function(e,t,c){},408:function(e,t,c){},409:function(e,t,c){},410:function(e,t,c){},412:function(e,t,c){},413:function(e,t,c){},414:function(e,t,c){},415:function(e,t,c){},416:function(e,t,c){},417:function(e,t,c){},428:function(e,t,c){},429:function(e,t,c){},430:function(e,t,c){},431:function(e,t,c){},432:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c.n(n),a=c(85),r=c.n(a),i=c(26),o=c(27),l=c(29),d=c(28),j=c(8),u=c(13),b=(c(194),c(195),c(86)),h=(c(196),c(434),c(433),c(198),b.a.initializeApp({apiKey:"AIzaSyA8vk-2nl2Nsw4t_yHRDFxbYGFdoFLhkas",authDomain:"deliveryfoodapp-62868.firebaseapp.com",databaseURL:"https://deliveryfoodapp-62868-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"deliveryfoodapp-62868",storageBucket:"deliveryfoodapp-62868.appspot.com",appId:""})),O=h.auth(),m=h.firestore(),x=(h.storage(),h.database()),v=(c(200),c(64)),p=c(0),f=Object(n.createContext)(),y=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={products:[],basket_added:[],fav_added:[],restl:[]},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;x.ref("products").on("value",(function(t){var c=[];t.forEach((function(e){c.push(e.val())})),e.setState({products:c})})),x.ref("basket_added").on("value",(function(t){var c=[];t.forEach((function(e){c.push(e.val())})),e.setState({basket_added:c})})),x.ref("favourite_added").on("value",(function(t){var c=[];t.forEach((function(e){c.push(e.val())})),e.setState({fav_added:c})})),x.ref("rest_location").on("value",(function(t){var c=[];t.forEach((function(e){c.push(e.val())})),e.setState({restl:c})}))}},{key:"render",value:function(){return Object(p.jsx)(f.Provider,{value:{products:Object(v.a)(this.state.products),basket_added:Object(v.a)(this.state.basket_added),fav_added:Object(v.a)(this.state.fav_added),restl:Object(v.a)(this.state.restl)},children:this.props.children})}}]),c}(s.a.Component),g=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e)).fetchDataToArray=function(){var e=n.context.products.map((function(e){return e.ProductName}));n.setState({arryProds:e})},n.onContentChanged=function(e){var t=e.target.value,c=[];if(t.length>0){var s=new RegExp("^".concat(t),"i");c=n.state.arryProds.sort().filter((function(e){return s.test(e)}))}n.setState({suggest:c,content:t})},n.state={suggest:[],arryProds:[],content:""},n}return Object(o.a)(c,[{key:"renderSuggestMe",value:function(){var e=this;return 0===this.state.suggest.length?null:Object(p.jsx)("ul",{className:"searchproduct-autocompile",children:this.state.suggest.map((function(t,c){return Object(p.jsx)("li",{onClick:function(){return e.renderSuggestMeSelected(t)},children:t},c)}))})}},{key:"renderSuggestMeSelected",value:function(e){this.setState({suggest:[],content:e})}},{key:"render",value:function(){var e=this;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"searchProducts",children:[Object(p.jsxs)("div",{className:"searchProducts-flex",children:[Object(p.jsx)("input",{onKeyUp:function(){return e.fetchDataToArray()},type:"text",placeholder:"Wyszukaj produkt...",onChange:this.onContentChanged,value:this.state.content}),Object(p.jsx)(j.b,{to:"/delivery/search/".concat(this.state.content),children:Object(p.jsx)("button",{onClick:function(){return e.setState({content:""})},children:Object(p.jsx)("i",{className:"icon search"})})})]}),this.renderSuggestMe()]})})}}]),c}(s.a.Component);g.contextType=f;var N=g,w=c(89),P=c.n(w),k=function(e){var t=e.user,c=Object(u.f)();Object(n.useEffect)((function(){P()("#toggle").click((function(){P()(this).toggleClass("active"),P()("#overlay").toggleClass("open")}))}),[]);var s=function(){O.signOut().then((function(){console.log("wylogowany"),c.push("/delivery")}))};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"deliveryHeader",children:[Object(p.jsx)("div",{className:"deliveryHeader-topbar",children:Object(p.jsxs)("ul",{children:[!t&&Object(p.jsxs)("li",{children:[Object(p.jsx)("i",{className:"icon user"}),Object(p.jsx)(j.b,{to:"/delivery/login",children:"Logowanie/Rejestracja"})]}),t&&Object(p.jsx)("li",{children:Object(p.jsxs)("button",{onClick:s,children:[Object(p.jsx)("i",{className:"icon logout",style:{color:"white"}})," Wyloguj ",t]})}),Object(p.jsx)("li",{children:Object(p.jsx)("div",{className:"dvl-search-container",children:Object(p.jsx)(N,{})})})]})}),Object(p.jsx)("div",{className:"deliveryHeader-bottombar",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/menu",children:"Menu"})}),t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/fav",children:"Ulubione"})}),Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/profile",children:"Profil"})}),Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/basket",children:Object(p.jsxs)("button",{children:[Object(p.jsx)("i",{className:"icon shopping basket"}),"Koszyk"]})})})]})]})}),Object(p.jsxs)("div",{className:"button_container",id:"toggle",children:[Object(p.jsx)("span",{className:"top"}),Object(p.jsx)("span",{className:"middle"}),Object(p.jsx)("span",{className:"bottom"})]})]}),Object(p.jsx)("div",{className:"overlay",id:"overlay",children:Object(p.jsxs)("nav",{className:"overlay-menu",children:[Object(p.jsxs)("ul",{className:"ul-top-moblie",children:[!t&&Object(p.jsxs)("li",{children:[Object(p.jsx)("i",{className:"icon user"}),Object(p.jsx)(j.b,{to:"/delivery/login",children:"Logowanie/Rejestracja"})]}),t&&Object(p.jsx)("li",{children:Object(p.jsxs)("button",{onClick:s,children:[Object(p.jsx)("i",{className:"icon logout",style:{color:"white"}})," Wyloguj ",t]})}),Object(p.jsx)("li",{children:Object(p.jsx)("div",{className:"dvl-search-container",children:Object(p.jsx)(N,{})})})]}),Object(p.jsxs)("ul",{className:"ul-bottom-moblie",children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/menu",children:"Menu"})}),t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/fav",children:"Ulubione"})}),Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/profile",children:"Profil"})}),Object(p.jsx)("li",{children:Object(p.jsxs)(j.b,{to:"/delivery/basket",children:[Object(p.jsx)("i",{className:"icon shopping basket"}),"Koszyk"]})})]})]})]})})]})},z=c(9),C=(c(206),c(207),c(88)),S=c(90),I=c(92),U=c.n(I);U.a.setApiKey("AIzaSyAd-6Jm8a0T5ODiNbkWqKo4E-qnNzDnzoA"),U.a.enableDebug();var E=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){var n;return Object(i.a)(this,c),(n=t.call(this,e)).getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_2"===e[t].types[0])return e[t].long_name},n.getArea=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0])for(var c=0;c<e[t].types.length;c++)if("sublocality_level_1"===e[t].types[c]||"locality"===e[t].types[c])return e[t].long_name},n.getState=function(e){for(var t=0;t<e.length;t++)for(var c=0;c<e.length;c++)if(e[c].types[0]&&"administrative_area_level_1"===e[c].types[0])return e[c].long_name},n.onChange=function(e){n.setState(Object(C.a)({},e.target.name,e.target.value))},n.onInfoWindowClose=function(e){},n.state={address:"",city:"",area:"",state:"",mapPosition:{lat:n.props.center.lat,lng:n.props.center.lng},markerPosition:{lat:n.props.center.lat,lng:n.props.center.lng}},n}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;U.a.fromLatLng(this.state.mapPosition.lat,this.state.mapPosition.lng).then((function(t){console.log("response",t);var c=t.results[0].formatted_address,n=t.results[0].address_components,s=e.getCity(n),a=e.getArea(n),r=e.getState(n);console.log("city",s,a,r),e.setState({address:c||"",area:a||"",city:s||"",state:r||""})}),(function(e){console.error(e)}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.markerPosition.lat!==this.props.center.lat||this.state.address!==t.address||this.state.city!==t.city||this.state.area!==t.area||this.state.state!==t.state||this.props.center.lat!==e.center.lat&&void 0}},{key:"render",value:function(){var e=this,t=Object(S.withScriptjs)(Object(S.withGoogleMap)((function(t){return Object(p.jsx)(S.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,defaultCenter:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng}})})));return void 0!==this.props.center.lat?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{style:{display:"none"},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"City"}),Object(p.jsx)("input",{type:"text",name:"city",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.city})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Area"}),Object(p.jsx)("input",{type:"text",name:"area",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.area})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"State"}),Object(p.jsx)("input",{type:"text",name:"state",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.state})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Address"}),Object(p.jsx)("input",{type:"text",name:"address",className:"form-control",onChange:this.onChange,readOnly:"readOnly",value:this.state.address})]})]}),Object(p.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyANYfOrg-tPNZ1UCor00wYUlf-vorCeJhc&region=PL&libraries=places",loadingElement:Object(p.jsx)("div",{style:{height:"100%"}}),containerElement:Object(p.jsx)("div",{style:{height:this.props.height}}),mapElement:Object(p.jsx)("div",{style:{height:"100%"}})})]}):Object(p.jsx)("div",{style:{height:this.props.height}})}}]),c}(s.a.Component),_=function(e){var t=e.setOpenModal;e.google;return Object(p.jsx)("div",{className:"deliveryModalHome",children:Object(p.jsxs)("div",{className:"deliveryModalHome-content",children:[Object(p.jsx)("button",{onClick:function(){return t(!1)},children:Object(p.jsx)("i",{className:"icon delete"})}),Object(p.jsx)("div",{className:"deliveryModalHome-content-title",children:Object(p.jsx)("h2",{children:"Wyszukaj i zapisz lokalizacj\u0119 restauracji najbli\u017cej Ciebie"})}),Object(p.jsx)("div",{className:"deliveryModalHome-content-body",children:Object(p.jsx)(E,{center:{lat:52.237049,lng:21.017532},height:"500px",zoom:15})}),Object(p.jsx)("div",{className:"deliveryModalHome-content-footer"})]})})},F=(c(404),function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={coolerSuggestMe:[],content:"",success:"",error:""},e.items=["Kielce Szajnowicza Iwanowa 1/8","Kielce Wi\u015bniowa 2/4","Kielce Jana Paw\u0142a 4/10","Kielce Galeria echo 2p","Warszawa Bartwi\u0144skiego 5/8","Warszawa Tomczaka 5","Warszawa Warszawska 14","Warszawa Tulewicza 24","Warszawa Wapniowa 12","Warszawa Ulotna 5","Warszawa Prusa 10","Katowice Towarowa 13","Katowice Zagajnik 24","Katowice Wojtachowskiego 15","Katowice Merry 23","Katowice Janowskiego 11","Katowice Gesler 43","Gdynia Filipa 14","Gdynia Ropuchy 43","Gdynia Katowicka 12","Gdynia Poligloty 14","Gdynia Markowskiego 16","Gdynia Utylizacji 44","Gdynia Koszali\u0144ska 14"],e.onContentChanged=function(t){var c=t.target.value,n=[];if(c.length>0){var s=new RegExp("^".concat(c),"i");n=e.items.sort().filter((function(e){return s.test(e)}))}e.setState((function(){return{coolerSuggestMe:n,content:c}}))},e}return Object(o.a)(c,[{key:"renderCoolerSuggestMe",value:function(){var e=this,t=this.state.coolerSuggestMe;return 0===t.length?null:Object(p.jsx)("ul",{className:"searchForRest-dvlul-autocompile",children:t.map((function(t,c){return Object(p.jsx)("li",{onClick:function(){return e.renderCoolerSuggestMeSelected(t)},children:t},c)}))})}},{key:"renderCoolerSuggestMeSelected",value:function(e){this.setState((function(){return{content:e,coolerSuggestMe:[]}}))}},{key:"componentDidMount",value:function(){var e=this;this.context.restl.filter((function(t){return t.IdUser===e.props.currentUserId})).forEach((function(t){e.setState({content:t.RestLocation})}))}},{key:"pushToBasket",value:function(){var e=this,t=this.context.restl.find((function(t){return t.IdUser===e.props.currentUserId}));if(void 0===t){if(""!==this.state.content){var c=x.ref("rest_location");c.push({IdUser:this.props.currentUserId,RestLocation:this.state.content}).catch((function(e){return console.log(e.message)})).then((function(e){c.child(e.key).update({IdKey:e.key}).then((function(){return console.log("dodano")}))}))}}else""!==this.state.content&&x.ref("rest_location").child(t.IdKey).update({RestLocation:this.state.content}).then((function(){return e.setState({success:"Zapisano zmian\u0119"})})).catch((function(e){return console.log(e.message)}))}},{key:"render",value:function(){var e=this,t=this.state.content;return Object(p.jsxs)("div",{className:"searchForRest",children:[Object(p.jsx)("button",{onClick:function(){return e.pushToBasket()},className:"searchForRest-btn",children:Object(p.jsx)("i",{className:"icon save"})}),Object(p.jsxs)("div",{className:"searchForRest-content",children:[Object(p.jsxs)("div",{className:"ui left icon input searchForRest-params",children:[Object(p.jsx)("input",{value:t,onChange:this.onContentChanged,type:"text",placeholder:"np. Kielce Szajnowicza..."}),Object(p.jsx)("i",{className:"paper plane icon"})]}),this.renderCoolerSuggestMe()]})]})}}]),c}(s.a.Component));F.contextType=f;var D=F,M=function(e){var t=e.user,c=e.currentUserId,s=Object(n.useState)(!1),a=Object(z.a)(s,2),r=a[0],i=a[1];return Object(p.jsxs)("div",{className:"deliveryHome",children:[Object(p.jsxs)("div",{className:"deliveryHome-title",children:[Object(p.jsx)("h1",{children:"Zam\xf3w z dostaw\u0105"}),Object(p.jsxs)("div",{className:"deliveryHome-dvl-flex",children:[Object(p.jsx)("h3",{children:"Otrzymasz zam\xf3wienie za oko\u0142o"}),Object(p.jsx)("span",{children:"30 min"})]})]}),Object(p.jsxs)("div",{className:"deliveryHome-content",children:[Object(p.jsxs)("div",{className:"deliveryHome-content-delivery",children:[t&&Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"header",children:Object(p.jsx)("h2",{children:"Dostawa"})}),Object(p.jsx)("div",{className:"location",children:Object(p.jsxs)("div",{className:"location-input-container",children:[Object(p.jsx)(D,{currentUserId:c}),Object(p.jsx)("button",{style:{display:"none"},onClick:function(){return i(!0)},children:Object(p.jsx)("i",{className:"icon street view"})})]})})]}),!t&&Object(p.jsx)("div",{className:"header",children:Object(p.jsx)("h2",{children:"Zaloguj si\u0119, zam\xf3w i delektuj si\u0119 smakiem!"})}),Object(p.jsxs)("div",{className:"location-info",children:[Object(p.jsx)("h2",{children:"Dostawa z restauracji:"}),Object(p.jsx)("p",{children:"PL DVL-DESIGNS KIELCE,"}),Object(p.jsx)("p",{children:"tel: 432 423 424,"}),Object(p.jsx)("p",{children:"GODZINY OTWARCIA W DNI ROBOCZE: 9:00 - 23:00. WEEKEND: 11:00 - 20:00."})]}),Object(p.jsx)("div",{className:"delivery-btn",children:Object(p.jsx)(j.b,{to:"/delivery/menu",children:Object(p.jsxs)("button",{children:[Object(p.jsx)("i",{className:"icon tasks"}),"Zam\xf3wienie"]})})}),Object(p.jsxs)("div",{className:"bottom-info-payment",children:[Object(p.jsx)("img",{alt:"payment",src:"/delivery/assets/images/paypal-logo.png"}),Object(p.jsx)("img",{alt:"payment",src:"/delivery/assets/images/blik.png"}),Object(p.jsx)("img",{alt:"payment",src:"/delivery/assets/images/payu.png"})]})]}),Object(p.jsx)("div",{className:"deliveryHome-content-banner",children:Object(p.jsx)("img",{alt:"fastfood",src:"/delivery/assets/images/club-sandwich.webp"})})]}),r&&Object(p.jsx)(_,{setOpenModal:i})]})},A=(c(405),function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",error:""},e.onSubmit=function(t){t.preventDefault(),O.signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){e.setState({email:"",password:"",error:""}),e.props.history.push("/delivery")})).catch((function(t){return e.setState({error:t.message})}))},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"deliveryLogin",children:[Object(p.jsx)("h2",{children:"Logowanie"}),Object(p.jsxs)("div",{className:"deliveryLogin-form",children:[Object(p.jsxs)("form",{className:"form",onSubmit:this.onSubmit,children:[Object(p.jsxs)("div",{className:"form-field",children:[Object(p.jsx)("label",{children:"Email"}),Object(p.jsx)("input",{type:"email",name:"email",onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email,required:!0})]}),Object(p.jsxs)("div",{className:"form-field",children:[Object(p.jsx)("label",{children:"Has\u0142o"}),Object(p.jsx)("input",{type:"password",name:"password",onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password,required:!0})]}),Object(p.jsx)("button",{type:"submit",children:"Zaloguj si\u0119"}),Object(p.jsx)(j.b,{to:"/delivery/register",children:"Nie masz konta?"}),Object(p.jsx)(j.b,{to:"/delivery/resetpassword",children:"Zapomnia\u0142e\u015b/a\u015b has\u0142a/o?"})]}),Object(p.jsx)("div",{className:"deliveryLogin-form-img",children:Object(p.jsx)("img",{alt:"fastfood",src:"/delivery/assets/images/lazania.jpg"})})]}),this.state.error&&Object(p.jsx)("div",{className:"ui negative message dvl-message-l",children:this.state.error})]})}}]),c}(s.a.Component)),L=(c(406),function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={username:"",phone:"",email:"",location:"",password:"",acceptPolise:!1,error:"",eyeClassName:"icon eye"},e.toggleEyePassVisible=function(){var t=document.querySelector("#id_pass");if("password"===t.getAttribute("type")){e.setState({eyeClassName:"icon eye slash"}),t.setAttribute("type","text")}else{e.setState({eyeClassName:"icon eye"}),t.setAttribute("type","password")}},e.register=function(t){t.preventDefault(),O.createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){m.collection("users_info").doc(t.user.uid).set({UserName:e.state.username,Phone:e.state.phone,Email:e.state.email,Location:e.state.location,Polise:e.state.acceptPolise,Id:t.user.uid}).then((function(){e.setState({username:"",phone:"",email:"",location:"",password:"",acceptPolise:!1,error:""}),O.currentUser.sendEmailVerification().then((function(){console.log("Email weryfikacyjny wys\u0142any!")})),e.props.history.push("/delivery")})).catch((function(t){return e.setState({error:t.message})}))})).catch((function(t){return e.setState({error:t.message})}))},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"deliveryRegister",children:[Object(p.jsx)("h2",{children:"Rejestracja"}),Object(p.jsxs)("div",{className:"deliveryRegister-form",children:[Object(p.jsxs)("div",{className:"deliveryRegister-form-img",children:[Object(p.jsx)("img",{alt:"fastfood",src:"/delivery/assets/images/pizza.jpg"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"icon info"}),"Administratorem Twoich danych osobowych jest Dvl-designs z siedzib\u0105 we Kielcach. Twoje dane osobowe b\u0119d\u0105 przetwarzane w celu kierowania do Ciebie tre\u015bci marketingowych w wybranej formie, a tak\u017ce w celach statystycznych i analitycznych administratora."]})]}),Object(p.jsxs)("form",{className:"form",onSubmit:this.register,children:[Object(p.jsxs)("div",{className:"form-field",children:[Object(p.jsx)("label",{children:"Nazwa u\u017cytkownika"}),Object(p.jsx)("input",{type:"text",onChange:function(t){return e.setState({username:t.target.value})},value:this.state.username,required:!0})]}),Object(p.jsxs)("div",{className:"form-field",children:[Object(p.jsx)("label",{children:"Numer telefonu"}),Object(p.jsx)("input",{type:"number",onChange:function(t){return e.setState({phone:t.target.value})},value:this.state.phone,required:!0})]}),Object(p.jsxs)("div",{className:"form-field",children:[Object(p.jsx)("label",{children:"Email"}),Object(p.jsx)("input",{type:"email",onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email,required:!0})]}),Object(p.jsxs)("div",{className:"form-field",children:[Object(p.jsx)("label",{children:"Adres dostawy"}),Object(p.jsx)("input",{type:"text",onChange:function(t){return e.setState({location:t.target.value})},value:this.state.location,required:!0})]}),Object(p.jsxs)("div",{className:"form-field pass_cont",children:[Object(p.jsx)("label",{children:"Has\u0142o"}),Object(p.jsx)("input",{type:"password",onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password,id:"id_pass",required:!0}),Object(p.jsx)("i",{onClick:function(){return e.toggleEyePassVisible()},className:this.state.eyeClassName})]}),Object(p.jsxs)("div",{className:"form-field dvl-flex",children:[Object(p.jsx)("input",{type:"checkbox",onChange:function(t){return e.setState({acceptPolise:t.target.checked})},checked:this.state.acceptPolise,required:!0}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{className:"icon star"})," Zapozna\u0142am(em) si\u0119 i akceptuj\u0119 Regulamin oraz Polityk\u0119 Prywatno\u015bci"]})]}),Object(p.jsx)("button",{type:"submit",children:"Do\u0142\u0105cz do nas"}),Object(p.jsx)(j.b,{to:"/delivery/login",children:"Posiadasz konto?"})]})]}),this.state.error&&Object(p.jsx)("div",{className:"ui negative message dvl-message-r",children:this.state.error})]})}}]),c}(s.a.Component)),R=(c(407),function(e){var t=e.currentUserId,c=e.currentPhone,s=e.currentLocation,a=e.currentUserName,r=e.currentEmail,i=Object(n.useState)(a),o=Object(z.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(c),h=Object(z.a)(u,2),x=h[0],v=h[1],f=Object(n.useState)(r),y=Object(z.a)(f,2),g=y[0],N=y[1],w=Object(n.useState)(s),P=Object(z.a)(w,2),k=P[0],C=P[1],S=Object(n.useState)(""),I=Object(z.a)(S,2),U=I[0],E=I[1],_=Object(n.useState)(""),F=Object(z.a)(_,2),D=F[0],M=F[1],A=Object(n.useState)(""),L=Object(z.a)(A,2),R=L[0],K=L[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);return Object(p.jsx)("div",{className:"deliveryProfile",children:Object(p.jsxs)("div",{className:"deliveryProfile-box",children:[Object(p.jsx)("h2",{children:"Ustawienia"}),Object(p.jsx)("p",{children:"Mo\u017cesz tutaj zmieni\u0107 swoje ustawienia profilowe"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=O.currentUser,c=b.a.auth.EmailAuthProvider.credential(t.email,e);return t.reauthenticateWithCredential(c)}(U).then((function(){O.currentUser.updateEmail(g).then((function(){console.log("Zmieniono email"),m.collection("users_info").doc(t).update({UserName:l,Phone:x,Location:k,Email:g}).then((function(){M(""),K("")})),M("Zapisano zmiany")})).catch((function(){return K("B\u0142\u0105d podczas zapisu")}))})).catch((function(e){console.log(e)}))},children:[Object(p.jsxs)("div",{className:"deliveryProfile-form-field",children:[Object(p.jsx)("label",{children:"Nazwa u\u017cytkownika"}),Object(p.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},value:l,required:!0})]}),Object(p.jsxs)("div",{className:"deliveryProfile-form-field",children:[Object(p.jsx)("label",{children:"Telefon"}),Object(p.jsx)("input",{type:"number",onChange:function(e){return v(e.target.value)},value:x,required:!0})]}),Object(p.jsxs)("div",{className:"deliveryProfile-form-field",children:[Object(p.jsx)("label",{children:"Email"}),Object(p.jsx)("input",{type:"email",onChange:function(e){return N(e.target.value)},value:g,required:!0})]}),Object(p.jsxs)("div",{className:"deliveryProfile-form-field",children:[Object(p.jsx)("label",{children:"Adres dostawy"}),Object(p.jsx)("input",{type:"text",onChange:function(e){return C(e.target.value)},value:k,required:!0})]}),Object(p.jsxs)("div",{className:"deliveryProfile-form-field",children:[Object(p.jsx)("p",{children:"Podaj swoje obecne has\u0142o w celach weryfikacyjnych. Zgadzasz si\u0119 w ten spos\xf3b na zmian\u0119 swoich danych."}),Object(p.jsx)("input",{type:"password",onChange:function(e){return E(e.target.value)},value:U,placeholder:"Podaj tu swoje obecne has\u0142o...",required:!0})]}),Object(p.jsx)("button",{type:"submit",children:"Zapisz"})]}),""!==D&&Object(p.jsx)("div",{className:"ui positive message",children:D}),""!==R&&Object(p.jsx)("div",{className:"ui negative message",children:R}),Object(p.jsxs)("div",{className:"deliveryProfile-reset-password",children:[Object(p.jsx)("label",{children:"Chcesz zmieni\u0107 has\u0142o?"}),Object(p.jsx)(j.b,{to:"/delivery/resetpassword",children:Object(p.jsx)("button",{children:"Resetuj"})})]})]})})}),K=(c(408),c(439)),T=c(437),B=c(438),W=c(435),Z=c(436);c(180),c(181),c(182),c(409);B.a.use([W.a,Z.a]);var G=function(e){var t=e.single,c=Object(n.useContext)(f).products;return Object(p.jsx)("div",{className:"deliverySliderMenu",children:Object(p.jsx)(K.a,{slidesPerView:4,scrollbar:!0,spaceBetween:30,navigation:!0,grabCursor:!0,className:"mySwiper",children:c.filter((function(e){return"tak"===e.ProductFiveStar})).map((function(e){return Object(p.jsx)(T.a,{children:Object(p.jsx)(j.b,{to:"".concat(t).concat(e.Id),children:Object(p.jsxs)("div",{className:"dvl-slide-content",children:[Object(p.jsx)("img",{alt:"food",src:e.ProductUrl}),Object(p.jsx)("div",{className:"dvl-slide-bg-rgba",children:Object(p.jsx)("h3",{children:e.ProductName})})]})})},e.Id)}))})})};c(410),c(411);B.a.use([W.a,Z.a]);var q=function(){var e=Object(n.useContext)(f).products;return Object(p.jsx)("div",{className:"deliverySliderDinner",children:Object(p.jsx)(K.a,{slidesPerView:3,slidesPerColumn:2,spaceBetween:30,navigation:!0,grabCursor:!0,scrollbar:!0,className:"mySwiper",children:e.filter((function(e){return"Obiady"===e.ProductCategory})).map((function(e){return Object(p.jsx)(T.a,{children:Object(p.jsx)(j.b,{to:"single/".concat(e.Id),children:Object(p.jsxs)("div",{className:"dvl-slide-content",children:[Object(p.jsx)("img",{alt:"food",src:e.ProductUrl}),Object(p.jsx)("div",{className:"dvl-slide-bg-rgba",children:Object(p.jsx)("h3",{children:e.ProductName})})]})})},e.Id)}))})})},H=function(){var e=Object(n.useContext)(f).products;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(p.jsxs)("div",{className:"deliveryMenu",children:[0!==e.length&&Object(p.jsx)("h1",{children:"Polecane dla Ciebie"}),Object(p.jsx)(G,{single:"single/"}),0!==e.length&&Object(p.jsx)("h1",{children:"Polecane obiady"}),Object(p.jsx)(q,{}),0!==e.length&&Object(p.jsx)("h1",{className:"all-menu",children:"Ca\u0142e menu"}),Object(p.jsx)("div",{className:"deliveryMenu-all-products",children:e.map((function(e){return Object(p.jsxs)("div",{className:"deliveryMenu-card",children:[Object(p.jsx)("div",{className:"deliveryMenu-card-img",children:Object(p.jsx)(j.b,{to:"single/".concat(e.Id),children:Object(p.jsx)("img",{alt:"food",src:e.ProductUrl})})}),Object(p.jsxs)("div",{className:"deliveryMenu-card-content",children:[Object(p.jsx)("h3",{children:e.ProductName}),Object(p.jsx)("p",{children:e.ProductDescription}),Object(p.jsx)(j.b,{to:"single/".concat(e.Id),children:Object(p.jsxs)("span",{children:[e.ProductPrice," z\u0142"]})})]})]},e.Id)}))}),0===e.length&&Object(p.jsx)("div",{className:"ui active dimmer inverted dvl-color-bg-loader",children:Object(p.jsx)("div",{className:"ui large text loader dvl-color-loader",children:"Prosz\u0119 czeka\u0107"})})]})},V=(c(412),function(e){var t=e.user;return Object(p.jsxs)("div",{className:"deliveryFooter",children:[Object(p.jsxs)("div",{className:"deliveryFooter-top",children:[Object(p.jsxs)("div",{className:"deliveryFooter-top-info",children:[Object(p.jsxs)("div",{className:"phone-contact",children:[Object(p.jsx)("i",{className:"icon phone"}),Object(p.jsx)("h3",{children:"Zam\xf3w przez telefon"}),Object(p.jsx)("p",{children:"546345345"})]}),Object(p.jsxs)("div",{className:"security",children:[Object(p.jsx)("i",{className:"icon key"}),Object(p.jsx)("h3",{children:"Bezpiecze\u0144stwo"}),Object(p.jsx)("p",{children:"Bezpieczne p\u0142atno\u015bci on-line"})]}),Object(p.jsxs)("div",{className:"client",children:[Object(p.jsx)("i",{className:"icon user circle"}),Object(p.jsx)("h3",{children:"Konto"}),Object(p.jsx)("p",{children:"Zaloguj lub za\u0142\xf3\u017c konto"})]})]}),Object(p.jsxs)("div",{className:"deliveryFooter-top-app",children:[Object(p.jsx)("div",{className:"deliveryFooter-top-app-img",children:Object(p.jsx)("img",{alt:"aplication",src:"/delivery/assets/images/bgphone2x.png"})}),Object(p.jsxs)("div",{className:"deliveryFooter-top-app-content",children:[Object(p.jsx)("h3",{children:"Aplikacja moblina"}),Object(p.jsx)("p",{children:"Zamawiaj szybko i wygodnie z nasz\u0105 aplikacj\u0105 mobiln\u0105"}),Object(p.jsx)("a",{href:"/delivery/assets/android_apk/app-debug.apk",target:"_blank",download:!0,children:Object(p.jsxs)("button",{children:[Object(p.jsx)("i",{className:"icon android"}),"APK"]})})]})]})]}),Object(p.jsxs)("div",{className:"deliveryFooter-bottom",children:[Object(p.jsx)("div",{className:"deliveryFooter-bottom-menu",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/menu",children:"Menu"})}),t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/fav",children:"Ulubione"})}),Object(p.jsx)("li",{children:Object(p.jsx)(j.b,{to:"/delivery/profile",children:"Profil"})})]})]})}),Object(p.jsx)("div",{className:"deliveryFooter-bottom-footer",children:Object(p.jsx)("p",{children:"\xa9 Designed & created by Mateusz Hus | dvl-designs"})})]})]})}),Y=(c(413),function(e){var t=e.currentUserId,c=e.user,s=Object(u.f)(),a=Object(n.useState)(1),r=Object(z.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),d=Object(z.a)(l,2),j=d[0],b=d[1],h=Object(n.useContext)(f).products,O=Object(n.useContext)(f).fav_added,m=Object(n.useContext)(f).basket_added,v=window.location.pathname.substr(17),y=h.filter((function(e){return e.Id===v})).length;Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.useEffect)((function(){0===i&&o(1)}),[i]);return Object(p.jsxs)(p.Fragment,{children:[0===y&&Object(p.jsx)("div",{className:"ui active dimmer inverted dvl-color-bg-loader",children:Object(p.jsx)("div",{className:"ui large text loader dvl-color-loader",children:"Prosz\u0119 czeka\u0107"})}),h.filter((function(e){return e.Id===v})).map((function(e){return Object(p.jsxs)("div",{className:"deliverySingleProduct",children:[Object(p.jsx)("div",{className:"deliverySingleProduct-img",children:Object(p.jsx)("img",{alt:"food",src:e.ProductUrl})}),Object(p.jsxs)("div",{className:"deliverySingleProduct-content",children:[Object(p.jsx)("h1",{children:e.ProductName}),Object(p.jsx)("p",{children:e.ProductDescription}),Object(p.jsxs)("div",{className:"deliverySingleProduct-counter",children:[Object(p.jsx)("button",{onClick:function(){var e;o((e=i)<1?1:e-1)},className:"deliverySingleProduct-minus",children:Object(p.jsx)("i",{className:"icon minus"})}),Object(p.jsx)("input",{type:"number",alt:"count",onChange:function(e){o(e.target.value)},value:i}),Object(p.jsx)("button",{onClick:function(){o(i+1)},className:"deliverySingleProduct-plus",children:Object(p.jsx)("i",{className:"icon plus"})})]}),Object(p.jsxs)("div",{className:"deliverySingleProduct-totalPrice",children:[Object(p.jsx)("h2",{children:(e.ProductPrice*i).toFixed(2)}),Object(p.jsx)("p",{children:"z\u0142"})]}),c&&Object(p.jsxs)("button",{onClick:function(){return function(e,c,n,a,r,i,o){if(m.find((function(e){return e.IdUser===t&&e.ProductId===n})))b("Ten produkt ju\u017c znajduje si\u0119 w koszyku.");else{var l=x.ref("basket_added");l.push({IdUser:t,ProductCategory:e,ProductDescription:c,ProductId:n,ProductName:a,ProductPrice:r,ProductQuantity:i,ProductPath:v,ProductPerItemPrice:o}).catch((function(e){return console.log("b\u0142\u0105d podczas pushowania danych",e)})).then((function(e){l.child(e.key).update({IdKey:e.key}).then((function(){return s.push("/delivery/basket")}))}))}}(e.ProductCategory,e.ProductDescription,e.Id,e.ProductName,(e.ProductPrice*i).toFixed(2),i,e.ProductPrice)},type:"submit",children:[Object(p.jsx)("i",{className:"icon shopping basket"}),"Dodaj do koszyka"]}),!c&&Object(p.jsxs)("button",{disabled:!0,style:{backgroundColor:"#999"},type:"submit",children:[Object(p.jsx)("i",{className:"icon shopping basket"}),"Dodaj do koszyka"]}),c&&Object(p.jsx)("button",{onClick:function(){return function(e,c,n,a,r){if(O.find((function(e){return e.IdUser===t&&e.ProductId===n})))b("Ten produkt ju\u017c znajduje si\u0119 w ulubionych.");else{var i=x.ref("favourite_added");i.push({IdUser:t,ProductCategory:e,ProductDescription:c,ProductId:n,ProductName:a,ProductPrice:r}).catch((function(e){return console.log("b\u0142\u0105d podczas pushowania danych",e)})).then((function(e){i.child(e.key).update({IdKey:e.key}).then((function(){return s.push("/delivery/fav")}))}))}}(e.ProductCategory,e.ProductDescription,e.Id,e.ProductName,e.ProductPrice)},className:"heart-to-favourite",children:Object(p.jsx)("i",{className:"icon heart"})}),j&&Object(p.jsx)("div",{className:"ui negative message",children:j})]})]},e.Id)})),Object(p.jsx)("h1",{className:"prod-for-you",children:"Polecane dla Ciebie"}),Object(p.jsx)(G,{single:"../single/"})]})}),J=(c(414),function(e){var t=e.currentUserId,c=Object(n.useState)(null),s=Object(z.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(null),o=Object(z.a)(i,2),l=o[0],d=o[1],u=Object(n.useContext)(f).basket_added,b=u.filter((function(e){return e.IdUser===t})).length;Object(n.useEffect)((function(){var e=0;u.filter((function(e){return e.IdUser===t})).forEach((function(t){e+=Number(t.ProductPrice)})),r(e.toFixed(2))}),[a,u,t]),Object(n.useEffect)((function(){0===l&&d(1)}),[l]);return Object(p.jsxs)("div",{className:"deliveryBasket",children:[Object(p.jsx)("div",{className:"deliveryBasket-details",children:Object(p.jsxs)("table",{className:"ui inverted table deliveryBasket-table",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Nazwa"}),Object(p.jsx)("th",{children:"Opis"}),Object(p.jsx)("th",{children:"Ilo\u015b\u0107"}),Object(p.jsx)("th",{children:"Cena"}),Object(p.jsx)("th",{children:"Usu\u0144"})]})}),Object(p.jsxs)("tbody",{children:[0===b&&Object(p.jsx)("tr",{children:Object(p.jsx)("td",{children:"Brak produkt\xf3w w koszyku"})}),u.filter((function(e){return e.IdUser===t})).map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.ProductName}),Object(p.jsx)("td",{children:e.ProductDescription}),Object(p.jsx)("td",{children:Object(p.jsxs)("div",{className:"deliveryBasket-tbody-flex",children:[Object(p.jsx)("button",{onClick:function(){return t=null===l?e.ProductQuantity:l,c=e.IdKey,n=e.ProductPerItemPrice,void(t>1&&x.ref("basket_added").child(c).update({ProductQuantity:t-1,ProductPrice:(n*(t-1)).toFixed(2)}));var t,c,n},children:Object(p.jsx)("i",{className:"icon minus"})}),Object(p.jsx)("input",{onChange:function(e){return d(e.target.value)},value:null===l?e.ProductQuantity:l,type:"number"}),Object(p.jsx)("button",{onClick:function(){return t=null===l?e.ProductQuantity:l,c=e.IdKey,n=e.ProductPerItemPrice,void x.ref("basket_added").child(c).update({ProductQuantity:t+1,ProductPrice:(n*(t+1)).toFixed(2)});var t,c,n},children:Object(p.jsx)("i",{className:"icon plus"})})]})}),Object(p.jsxs)("td",{children:[null===l?e.ProductPrice:(e.ProductPerItemPrice*l).toFixed(2)," z\u0142"]}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{onClick:function(){return t=e.IdKey,void x.ref("basket_added").child(t).remove();var t},children:Object(p.jsx)("i",{className:"icon delete"})})})]},e.IdKey)}))]})]})}),Object(p.jsx)("div",{className:"deliveryBasket-final",children:Object(p.jsxs)("div",{className:"deliveryBasket-final-card",children:[0===b&&Object(p.jsx)("h2",{children:"Nie czekaj, zam\xf3w co\u015b i ciesz si\u0119 smakiem"}),0!==b&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"deliveryBasket-final-card-header",children:Object(p.jsx)("h2",{children:"Podsumowanie:"})}),Object(p.jsxs)("div",{className:"deliveryBasket-final-card-content",children:[Object(p.jsxs)("p",{children:["Razem: ",a," z\u0142"]}),Object(p.jsx)("p",{children:"Dostawa: 0 z\u0142"})]}),Object(p.jsx)("div",{className:"deliveryBasket-final-card-footer",children:Object(p.jsx)(j.b,{to:"/delivery/finalize",children:Object(p.jsxs)("button",{children:[Object(p.jsx)("i",{className:"icon sticky note outline"}),"Finalizowanie"]})})})]})]})})]})}),Q=(c(415),function(e){var t=e.currentUserId,c=Object(n.useState)(""),s=Object(z.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(""),o=Object(z.a)(i,2),l=o[0],d=o[1],u=Object(n.useContext)(f).fav_added;Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var b=u.filter((function(e){return e.IdUser===t})).length;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"deliveryFavourite",children:Object(p.jsx)("div",{className:"deliveryFavourite-grid",children:u.filter((function(e){return e.IdUser===t})).map((function(e){return Object(p.jsxs)("div",{className:"deliveryFavourite-card",children:[Object(p.jsx)("h2",{children:e.ProductName}),Object(p.jsx)("p",{children:e.ProductDescription}),Object(p.jsx)(j.b,{to:"/delivery/single/".concat(e.ProductId),children:Object(p.jsx)("i",{className:"icon eye"})}),Object(p.jsx)("button",{onClick:function(){return t=e.IdKey,void x.ref("favourite_added").child(t).remove().then((function(){r(""),d("")})).then((function(){return r("Usuni\u0119to wybrany produkt z ulubionych")})).catch((function(e){return d("B\u0142\u0105d. Nie uda\u0142o si\u0119 usun\u0105\u0107 wybranego produktu")}));var t},children:Object(p.jsx)("i",{className:"icon delete"})})]},e.IdKey)}))})}),""!==a&&Object(p.jsx)("p",{className:"ui positive message",children:a}),""!==l&&Object(p.jsx)("p",{className:"ui negative message",children:l}),0===b&&Object(p.jsxs)("div",{className:"deliveryFavourite-no-fav-products",children:[Object(p.jsx)("div",{className:"deliveryFavourite-no-fav-products-circle",children:Object(p.jsx)("img",{alt:"star",src:"/delivery/assets/images/Star_icon.png"})}),Object(p.jsx)("h2",{children:"Twoja lista jest pusta"})]})]})}),X=c(48);c(416);function $(e){var t=Object(n.useState)(null),c=Object(z.a)(t,2),s=c[0],a=c[1];return[s,{name:e,type:"radio",onChange:function(e){a(e.target.value)}}]}var ee=function(e){var t=e.currentUserId,c=e.currentLocation,s=e.currentPhone,a=Object(n.useContext)(f),r=a.basket_added,i=a.restl,o=$("payment"),l=Object(z.a)(o,2),d=l[0],j=l[1],b=$("pay_method"),h=Object(z.a)(b,2),O=h[0],m=h[1],v=Object(n.useState)("none"),y=Object(z.a)(v,2),g=y[0],N=y[1],w=Object(n.useState)("none"),P=Object(z.a)(w,2),k=P[0],C=P[1],S=Object(n.useState)("none"),I=Object(z.a)(S,2),U=I[0],E=I[1],_=Object(n.useState)(s),F=Object(z.a)(_,2),M=F[0],A=F[1],L=Object(n.useState)(c),R=Object(z.a)(L,2),K=R[0],T=R[1],B=Object(n.useState)(!1),W=Object(z.a)(B,2),Z=W[0],G=W[1],q=Object(n.useState)(!1),H=Object(z.a)(q,2),V=H[0],Y=H[1],J=Object(n.useState)(!1),Q=Object(z.a)(J,2),ee=Q[0],te=Q[1],ce=Object(u.f)();Object(n.useEffect)((function(){"online"===d&&(N("block"),C("none"),E("none")),"cart"===d&&(C("block"),N("none"),E("none")),"personal"===d&&(E("block"),N("none"),C("none"))}),[d]),Object(n.useEffect)((function(){"paypal"===O&&(G(!0),Y(!1),te(!1)),"payu"===O&&(Y(!0),G(!1),te(!1)),"googlepay"===O&&(te(!0),G(!1),Y(!1))}),[O]),Object(n.useEffect)((function(){A(s),T(c)}),[c,s]);return Object(p.jsxs)("div",{className:"deliveryFinalize",children:[Object(p.jsx)("div",{id:"deliveryFinalize-box-main",className:"deliveryFinalize-box",children:Object(p.jsx)("div",{className:"ui form",children:Object(p.jsxs)("div",{className:"grouped fields",children:[Object(p.jsx)("h3",{children:"Prosimy wybra\u0107 metod\u0119 zap\u0142aty"}),Object(p.jsx)("div",{className:"field",children:Object(p.jsxs)("div",{className:"ui toggle checkbox",children:[Object(p.jsx)("input",Object(X.a)({value:"online",checked:"online"===d},j)),Object(p.jsx)("label",{children:"P\u0142ac\u0119 online (Z dostaw\u0105)"})]})}),Object(p.jsx)("div",{className:"field",children:Object(p.jsxs)("div",{className:"ui toggle checkbox",children:[Object(p.jsx)("input",Object(X.a)({value:"cart",checked:"cart"===d},j)),Object(p.jsx)("label",{children:"P\u0142ac\u0119 kart\u0105 przy odbiorze (Z dostaw\u0105)"})]})}),Object(p.jsx)("div",{className:"field",children:Object(p.jsxs)("div",{className:"ui toggle checkbox",children:[Object(p.jsx)("input",Object(X.a)({value:"personal",checked:"personal"===d},j)),Object(p.jsx)("label",{children:"P\u0142ac\u0119 przy odbiorze osobistym (w wyznaczonej restauracji)"})]})})]})})}),Object(p.jsxs)("div",{id:"deliveryFinalize-payment-methods",className:"deliveryFinalize-box",style:{display:g},children:[Object(p.jsx)("h3",{children:"Metody p\u0142atno\u015bci"}),Object(p.jsx)("div",{className:"ui form",children:Object(p.jsxs)("div",{className:"grouped fields",children:[Object(p.jsx)("div",{className:"field",children:Object(p.jsxs)("div",{className:"ui toggle checkbox",children:[Object(p.jsx)("input",Object(X.a)({value:"paypal",checked:"paypal"===O},m)),Object(p.jsx)("label",{children:"Paypal (aktywne)"})]})}),Object(p.jsx)("div",{className:"field",children:Object(p.jsxs)("div",{className:"ui toggle checkbox",children:[Object(p.jsx)("input",Object(X.a)({value:"payu",checked:"payu"===O},m)),Object(p.jsx)("label",{children:"PayU (nieaktywne)"})]})}),Object(p.jsx)("div",{className:"field",children:Object(p.jsxs)("div",{className:"ui toggle checkbox",children:[Object(p.jsx)("input",Object(X.a)({value:"googlepay",checked:"googlepay"===O},m)),Object(p.jsx)("label",{children:"Google pay (aktywne)"})]})})]})}),Object(p.jsx)("h3",{children:"Dostawa"}),Object(p.jsxs)("div",{className:"deliveryFinalize-box-fields",children:[Object(p.jsxs)("div",{className:"box-fields",children:[Object(p.jsx)("label",{children:"Telefon"}),Object(p.jsx)("input",{type:"number",onChange:function(e){return A(e.target.value)},value:M||""})]}),Object(p.jsxs)("div",{className:"box-fields",children:[Object(p.jsx)("label",{children:"Adres"}),Object(p.jsx)("input",{type:"text",onChange:function(e){return T(e.target.value)},value:K||""})]})]}),Object(p.jsx)("button",{onClick:function(){return!0===Z&&ce.push("/delivery/paypal"),!0===V&&console.log("payu is true"),void(!0===ee&&ce.push("/delivery/googlepay"))},children:"Zamawiam i p\u0142ac\u0119"})]}),Object(p.jsxs)("div",{id:"deliveryFinalize-cart-home",className:"deliveryFinalize-box",style:{display:k},children:[Object(p.jsx)("h3",{children:"Dostawa"}),Object(p.jsxs)("div",{className:"deliveryFinalize-box-fields",children:[Object(p.jsxs)("div",{className:"box-fields",children:[Object(p.jsx)("label",{children:"Telefon"}),Object(p.jsx)("input",{type:"number",onChange:function(e){return A(e.target.value)},value:M||""})]}),Object(p.jsxs)("div",{className:"box-fields",children:[Object(p.jsx)("label",{children:"Adres"}),Object(p.jsx)("input",{type:"text",onChange:function(e){return T(e.target.value)},value:K||""})]})]}),Object(p.jsx)("button",{onClick:function(){return function(){var e=x.ref("orders_pay_on_delivery");e.push({ClientId:t,Location:c,OrderDate:Date(),PaymentMethod:"przy dostawie",PaymentResult:"brak",Phone:s}).catch((function(e){return console.log(e)})).then((function(t){e.child(t.key).update({KeyId:t.key})})),r.filter((function(e){return e.IdUser===t})).forEach((function(e){x.ref("basket_added").child(e.IdKey).remove()})),ce.push("/delivery/paymentsuccess/payCardOnDelivery")}()},children:"Zamawiam"})]}),Object(p.jsxs)("div",{id:"deliveryFinalize-personal",className:"deliveryFinalize-box",style:{display:U},children:[Object(p.jsx)("h3",{children:"Restauracja"}),Object(p.jsx)("div",{className:"deliveryFinalize-box-fields",children:Object(p.jsxs)("div",{className:"box-fields",children:[Object(p.jsx)("label",{children:"Lokalizacja"}),Object(p.jsx)(D,{currentUserId:t})]})}),Object(p.jsx)("button",{onClick:function(){return i.filter((function(e){return e.IdUser===t})).forEach((function(e){var n=x.ref("orders_pay_on_delivery");n.push({ClientId:t,Location:c,OrderDate:Date(),PaymentMethod:"przy odbiorze osobistym w restauracji",PaymentResult:"brak",Phone:s,Restaurant:e.RestLocation}).catch((function(e){return console.log(e)})).then((function(e){n.child(e.key).update({KeyId:e.key})}))})),r.filter((function(e){return e.IdUser===t})).forEach((function(e){x.ref("basket_added").child(e.IdKey).remove()})),void ce.push("/delivery/paymentsuccess/payInRestaurant")},children:"Zamawiam"})]})]})},te=c(62),ce=c.n(te),ne=c(187),se=(c(183),function(e){var t=e.currentUserId,c=e.currentPhone,s=e.currentLocation,a=Object(u.f)(),r=Object(n.useContext)(f).basket_added,i=Object(n.useState)(""),o=Object(z.a)(i,2),l=o[0],d=o[1],j=Object(n.useRef)();return Object(n.useEffect)((function(){var e=0;r.filter((function(e){return e.IdUser===t})).forEach((function(t){e+=Number(t.ProductPrice)})),e&&window.paypal.Buttons({createOrder:function(c,n,s){return n.order.create({intent:"CAPTURE",purchase_units:[{description:t,amount:{currency_code:"PLN",value:e.toFixed(2)}}]})},onApprove:function(){var e=Object(ne.a)(ce.a.mark((function e(n,i){var o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.order.capture();case 2:e.sent,o=x.ref("orders_pay_on_delivery"),o.push({ClientId:t,Location:s,OrderDate:Date(),PaymentMethod:"paypal",PaymentResult:"zap\u0142acone",Phone:c}).catch((function(e){return console.log(e)})).then((function(e){o.child(e.key).update({KeyId:e.key})})),r.filter((function(e){return e.IdUser===t})).forEach((function(e){x.ref("basket_added").child(e.IdKey).remove()})),a.push("/delivery/paymentsuccess/payOnline");case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),onError:function(e){d("B\u0142\u0105d podczas dokonywania p\u0142atno\u015bci. Prosimy spr\xf3bowa\u0107 pownownie p\xf3\u017cniej lub skontaktowa\u0107 si\u0119 z administracj\u0105 serwisu. B\u0142\u0105d: "+e)}}).render(j.current)}),[]),Object(p.jsxs)("div",{className:"payPalButton",children:[Object(p.jsx)("div",{ref:j}),""!==l&&Object(p.jsx)("div",{className:"ui primary message",children:l})]})}),ae=function(e){var t=e.currentUserId,c=e.currentPhone,n=e.currentLocation,s=e.currentUserName,a=e.currentEmail;return Object(p.jsx)("div",{className:"deliveryPaypal",children:Object(p.jsx)(se,{currentUserId:t,currentPhone:c,currentLocation:n,currentUserName:s,currentEmail:a})})},re=(c(417),c(188)),ie=c.n(re),oe=function(e){var t=e.currentUserId,c=Object(n.useState)(null),s=Object(z.a)(c,2),a=s[0],r=s[1],i=Object(n.useContext)(f).basket_added;return Object(n.useEffect)((function(){var e=0;i.filter((function(e){return e.IdUser===t})).forEach((function(t){e+=Number(t.ProductPrice)})),r(e.toFixed(2))}),[i,t]),Object(p.jsx)("div",{className:"deliveryGooglePay",children:Object(p.jsx)(ie.a,{nvironment:"TEST",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}],merchantInfo:{merchantId:"12345678901234567890",merchantName:"Demo Merchant"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:a,currencyCode:"PLN",countryCode:"PL"}},onLoadPaymentData:function(e){console.log("load payment data",e)}})})},le=(c(428),function(){return Object(p.jsx)("div",{className:"deliveryNotFound",children:Object(p.jsxs)("div",{className:"deliveryNotFound-not-found-box",children:[Object(p.jsxs)("div",{className:"deliveryNotFound-not-found-box-flex",children:[Object(p.jsx)("span",{children:"4"}),Object(p.jsx)("img",{src:"/delivery/assets/images/dizzy.png",alt:"o"}),Object(p.jsx)("span",{children:"4"})]}),Object(p.jsx)("p",{children:"Ta strona nie istnieje"}),Object(p.jsx)("p",{children:Object(p.jsx)(j.b,{to:"/delivery",children:"Powr\xf3t na stron\u0119 g\u0142\xf3wna"})})]})})}),de=(c(429),function(){var e=Object(n.useState)(""),t=Object(z.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(z.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),d=Object(z.a)(l,2),j=d[0],u=d[1];Object(n.useEffect)((function(){o(""),u("")}),[c]);return Object(p.jsx)("div",{className:"deliveryForgotPassword",children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.sendPasswordResetEmail(c).then((function(){o("Link zosta\u0142 wys\u0142any na ".concat(c,"."))})).catch((function(){return u("B\u0142\u0105d. Spr\xf3buj ponownie p\xf3\u017aniej.")}))},children:[Object(p.jsx)("h1",{children:"Odzyskiwanie has\u0142a"}),Object(p.jsxs)("div",{className:"deliveryForgotPassword-field",children:[Object(p.jsx)("label",{children:"Podaj adres email"}),Object(p.jsx)("input",{type:"email",onChange:function(e){return s(e.target.value)},value:c,placeholder:"example@xxx.xxx",required:!0}),Object(p.jsx)("p",{children:"Na podany adres zostanie wys\u0142any link."})]}),Object(p.jsx)("button",{type:"submit",children:"Wy\u015blij"}),""!==i&&Object(p.jsx)("div",{className:"ui positive message",children:i}),""!==j&&Object(p.jsx)("div",{className:"ui negative message",children:j})]})})}),je=(c(430),function(){var e=Object(n.useContext)(f).products,t=window.location.pathname.substr(17),c=e.filter((function(e){return e.ProductName===t.replaceAll("%20"," ")})).length;return Object(p.jsxs)("div",{className:"deliverySearchProducts",children:[e.filter((function(e){return e.ProductName===t.replaceAll("%20"," ")})).map((function(e){return Object(p.jsxs)("div",{className:"deliveryMenu-card",children:[Object(p.jsx)("div",{className:"deliveryMenu-card-img",children:Object(p.jsx)("img",{alt:"food",src:e.ProductUrl})}),Object(p.jsxs)("div",{className:"deliveryMenu-card-content",children:[Object(p.jsx)("h3",{children:e.ProductName}),Object(p.jsx)("p",{children:e.ProductDescription}),Object(p.jsxs)("span",{children:[e.ProductPrice," z\u0142"]}),Object(p.jsx)(j.b,{to:"/delivery/single/".concat(e.Id),children:Object(p.jsx)("i",{className:"icon eye"})})]})]},e.Id)})),0===c&&Object(p.jsx)("div",{className:"ui primary message",children:"Brak produkt\xf3w"})]})}),ue=(c(431),function(){var e=window.location.pathname.substr(25);return Object(p.jsx)("div",{className:"paymentThanks",children:function(){switch(e){case"payOnline":return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Dzi\u0119kujemy"}),Object(p.jsx)("p",{children:"Twoja p\u0142atno\u015b\u0107 powiod\u0142a si\u0119."}),Object(p.jsx)(j.b,{to:"/delivery",children:"Strona g\u0142\xf3wna"})]});case"payCardOnDelivery":return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Dzi\u0119kujemy"}),Object(p.jsx)("p",{children:"Twoje zam\xf3wienie jest w trakcie realizacji."}),Object(p.jsx)("p",{children:"Szacowanych czas oczekiwania to 30 minut."}),Object(p.jsx)(j.b,{to:"/delivery",children:"Strona g\u0142\xf3wna"})]});case"payInRestaurant":return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Dzi\u0119kujemy"}),Object(p.jsx)("p",{children:"Twoje zam\xf3wienie jest w trakcie realizacji."}),Object(p.jsx)("p",{children:"Szacowanych czas oczekiwania to 10 minut."}),Object(p.jsx)("p",{children:"Twoje zam\xf3wienie b\u0119dzie na Ciebie czeka\u0107 przez 40 minut w wybranej wcze\u015bniej restauracji."}),Object(p.jsx)(j.b,{to:"/delivery",children:"Strona g\u0142\xf3wna"})]})}}()})}),be=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:null,currentUserId:null,currentPhone:null,currentLocation:"",currentUserName:"",currentEmail:""},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this;O.onAuthStateChanged((function(t){t?m.collection("users_info").doc(t.uid).get().then((function(c){e.setState({user:c.data().UserName,currentUserId:t.uid,currentPhone:c.data().Phone,currentLocation:c.data().Location,currentUserName:c.data().UserName,currentEmail:c.data().Email})})):e.setState({user:null,currentUserId:"",currentPhone:null,currentLocation:"",currentUserName:"",currentEmail:""})}))}},{key:"render",value:function(){var e=this;return Object(p.jsx)(y,{children:Object(p.jsx)(j.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)(k,{user:this.state.user}),Object(p.jsx)("div",{className:"dvl-container",children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{path:"/delivery",exact:!0,component:function(){return Object(p.jsx)(M,{user:e.state.user,currentUserId:e.state.currentUserId})}}),Object(p.jsx)(u.a,{path:"/delivery/login",exact:!0,component:A}),Object(p.jsx)(u.a,{path:"/delivery/register",exact:!0,component:L}),Object(p.jsx)(u.a,{path:"/delivery/menu",exact:!0,component:H}),Object(p.jsx)(u.a,{path:"/delivery/single/:id",exact:!0,component:function(){return Object(p.jsx)(Y,{currentUserId:e.state.currentUserId,user:e.state.user})}}),Object(p.jsx)(u.a,{path:"/delivery/fav",exact:!0,component:function(){return e.state.user?Object(p.jsx)(Q,{currentUserId:e.state.currentUserId}):Object(p.jsx)(A,{})}}),Object(p.jsx)(u.a,{path:"/delivery/profile",exact:!0,component:function(){return e.state.user?Object(p.jsx)(R,{currentUserId:e.state.currentUserId,currentPhone:e.state.currentPhone,currentLocation:e.state.currentLocation,currentUserName:e.state.currentUserName,currentEmail:e.state.currentEmail}):Object(p.jsx)(A,{})}}),Object(p.jsx)(u.a,{path:"/delivery/basket",exact:!0,component:function(){return e.state.user?Object(p.jsx)(J,{currentUserId:e.state.currentUserId}):Object(p.jsx)(A,{})}}),Object(p.jsx)(u.a,{path:"/delivery/finalize",exact:!0,component:function(){return e.state.user?Object(p.jsx)(ee,{currentUserId:e.state.currentUserId,currentPhone:e.state.currentPhone,currentLocation:e.state.currentLocation}):Object(p.jsx)(A,{})}}),Object(p.jsx)(u.a,{path:"/delivery/paypal",exact:!0,component:function(){return e.state.user?Object(p.jsx)(ae,{currentUserId:e.state.currentUserId,currentPhone:e.state.currentPhone,currentLocation:e.state.currentLocation,currentUserName:e.state.currentUserName,currentEmail:e.state.currentEmail}):Object(p.jsx)(A,{})}}),Object(p.jsx)(u.a,{path:"/delivery/googlepay",exact:!0,component:function(){return e.state.user?Object(p.jsx)(oe,{currentUserId:e.state.currentUserId}):Object(p.jsx)(A,{})}}),Object(p.jsx)(u.a,{path:"/delivery/resetpassword",exact:!0,component:function(){return Object(p.jsx)(de,{})}}),Object(p.jsx)(u.a,{path:"/delivery/search/:id",exact:!0,component:function(){return Object(p.jsx)(je,{})}}),Object(p.jsx)(u.a,{path:"/delivery/paymentsuccess/:id",component:function(){return e.state.user?Object(p.jsx)(ue,{}):Object(p.jsx)(A,{})}}),Object(p.jsx)(u.a,{path:"*",component:le})]})}),Object(p.jsx)(V,{user:this.state.user})]})})})}}]),c}(s.a.Component);r.a.render(Object(p.jsx)(be,{}),document.getElementById("root"))}},[[432,1,2]]]);
//# sourceMappingURL=main.22def648.chunk.js.map